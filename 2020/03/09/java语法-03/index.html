<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>java语法-03 | clay's blog</title><meta name="description" content="java语法第三篇"><meta name="keywords" content="Java,笔记"><meta name="author" content="clay"><meta name="copyright" content="clay"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/blog/img/icon.png"><link rel="preconnect" href="//cdn.jsdelivr.net"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="java语法-03"><meta name="twitter:description" content="java语法第三篇"><meta name="twitter:image" content="https://pic.downk.cc/item/5e6b334de83c3a1e3a803c27.jpg"><meta property="og:type" content="article"><meta property="og:title" content="java语法-03"><meta property="og:url" content="http://gy1310.github.io/blog/2020/03/09/java%E8%AF%AD%E6%B3%95-03/"><meta property="og:site_name" content="clay's blog"><meta property="og:description" content="java语法第三篇"><meta property="og:image" content="https://pic.downk.cc/item/5e6b334de83c3a1e3a803c27.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'true'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/blog/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.15/dist/snackbar.min.css"><link rel="canonical" href="http://gy1310.github.io/blog/2020/03/09/java%E8%AF%AD%E6%B3%95-03/"><link rel="prev" title="java语法-04" href="http://gy1310.github.io/blog/2020/03/09/java%E8%AF%AD%E6%B3%95-04/"><link rel="next" title="java语法-02" href="http://gy1310.github.io/blog/2020/03/09/java%E8%AF%AD%E6%B3%95-02/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/blog/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: undefined,
  highlight_copy: 'true',
  highlight_lang: 'true',
  highlight_shrink: 'false',
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  copyright: {"languages":{"author":"作者: clay","link":"链接: http://gy1310.github.io/blog/2020/03/09/java%E8%AF%AD%E6%B3%95-03/","source":"来源: clay's blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  copy_copyright_js: true,
  ClickShowText: undefined,
  medium_zoom: 'false',
  Snackbar: {"bookmark":{"title":"Snackbar.bookmark.title","message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"}
  
}</script><meta name="generator" content="Hexo 4.2.0"></head><body><div id="header"> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/blog/">clay's blog</a></span><i class="fa fa-bars fa-fw toggle-menu pull_right close" aria-hidden="true"></i><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/blog/link/"><i class="fa-fw fa fa-link"></i><span> 相册</span></a></div><div class="menus_item"><a class="site-page" href="/blog/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 清单</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/blog/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/blog/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li></ul></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="lazyload avatar_img" src="https://pic.downk.cc/item/5e6601de98271cb2b81548a3.jpg" onerror="onerror=null;src='/img/friend_404.gif'"></div><div class="mobile_post_data"><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/blog/archives/"><div class="headline">文章</div><div class="length_num">14</div></a></div></div><div class="mobile_data_item is_center">      <div class="mobile_data_link"><a href="/blog/tags/"><div class="headline">标签</div><div class="length_num">7</div></a></div></div><div class="mobile_data_item is_center">     <div class="mobile_data_link"><a href="/blog/categories/"><div class="headline">分类</div><div class="length_num">4</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/blog/link/"><i class="fa-fw fa fa-link"></i><span> 相册</span></a></div><div class="menus_item"><a class="site-page" href="/blog/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 清单</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/blog/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/blog/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li></ul></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#File类"><span class="toc_mobile_items-text">File类</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-6"><a class="toc_mobile_items-link" href="#路径问题"><span class="toc_mobile_items-text">路径问题</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-6"><a class="toc_mobile_items-link" href="#创建"><span class="toc_mobile_items-text">创建</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-6"><a class="toc_mobile_items-link" href="#删除-amp-判断"><span class="toc_mobile_items-text">删除&amp;判断</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-6"><a class="toc_mobile_items-link" href="#获取"><span class="toc_mobile_items-text">获取</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-6"><a class="toc_mobile_items-link" href="#文件夹相关"><span class="toc_mobile_items-text">文件夹相关</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-6"><a class="toc_mobile_items-link" href="#案例"><span class="toc_mobile_items-text">案例</span></a></li></ol></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#FileInputStream"><span class="toc_mobile_items-text">FileInputStream</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-6"><a class="toc_mobile_items-link" href="#FileInputStream读取文件要注意的细节"><span class="toc_mobile_items-text">FileInputStream读取文件要注意的细节</span></a></li></ol></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#OutPutStream"><span class="toc_mobile_items-text">OutPutStream</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-6"><a class="toc_mobile_items-link" href="#案例：拷贝一张图片"><span class="toc_mobile_items-text">案例：拷贝一张图片</span></a></li></ol></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#IO异常处理"><span class="toc_mobile_items-text">IO异常处理</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#缓冲输入字节流"><span class="toc_mobile_items-text">缓冲输入字节流</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#缓冲输出字节流"><span class="toc_mobile_items-text">缓冲输出字节流</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#案例：缓冲字节流拷贝图片"><span class="toc_mobile_items-text">案例：缓冲字节流拷贝图片</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#使用字节流读写中文"><span class="toc_mobile_items-text">使用字节流读写中文</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#输入字符流"><span class="toc_mobile_items-text">输入字符流</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#输出字符流"><span class="toc_mobile_items-text">输出字符流</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#使用字符流拷贝文件"><span class="toc_mobile_items-text">使用字符流拷贝文件</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#使用字节流读取中文"><span class="toc_mobile_items-text">使用字节流读取中文</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#缓冲输入字符流"><span class="toc_mobile_items-text">缓冲输入字符流</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#缓冲输出字符流"><span class="toc_mobile_items-text">缓冲输出字符流</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#缓冲输入输出字符流注册登录"><span class="toc_mobile_items-text">缓冲输入输出字符流注册登录</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#装饰者设计模式1"><span class="toc_mobile_items-text">装饰者设计模式1</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#装饰者设计模式2"><span class="toc_mobile_items-text">装饰者设计模式2</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#装饰者设计模式案例"><span class="toc_mobile_items-text">装饰者设计模式案例</span></a></li></ol></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#File类"><span class="toc-text">File类</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#路径问题"><span class="toc-text">路径问题</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#创建"><span class="toc-text">创建</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#删除-amp-判断"><span class="toc-text">删除&amp;判断</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#获取"><span class="toc-text">获取</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#文件夹相关"><span class="toc-text">文件夹相关</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#案例"><span class="toc-text">案例</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileInputStream"><span class="toc-text">FileInputStream</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#FileInputStream读取文件要注意的细节"><span class="toc-text">FileInputStream读取文件要注意的细节</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OutPutStream"><span class="toc-text">OutPutStream</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#案例：拷贝一张图片"><span class="toc-text">案例：拷贝一张图片</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IO异常处理"><span class="toc-text">IO异常处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#缓冲输入字节流"><span class="toc-text">缓冲输入字节流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#缓冲输出字节流"><span class="toc-text">缓冲输出字节流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#案例：缓冲字节流拷贝图片"><span class="toc-text">案例：缓冲字节流拷贝图片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用字节流读写中文"><span class="toc-text">使用字节流读写中文</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#输入字符流"><span class="toc-text">输入字符流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#输出字符流"><span class="toc-text">输出字符流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用字符流拷贝文件"><span class="toc-text">使用字符流拷贝文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用字节流读取中文"><span class="toc-text">使用字节流读取中文</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#缓冲输入字符流"><span class="toc-text">缓冲输入字符流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#缓冲输出字符流"><span class="toc-text">缓冲输出字符流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#缓冲输入输出字符流注册登录"><span class="toc-text">缓冲输入输出字符流注册登录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#装饰者设计模式1"><span class="toc-text">装饰者设计模式1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#装饰者设计模式2"><span class="toc-text">装饰者设计模式2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#装饰者设计模式案例"><span class="toc-text">装饰者设计模式案例</span></a></li></ol></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://pic.downk.cc/item/5e6b334de83c3a1e3a803c27.jpg)"><div id="post-info"><div id="post-title"><div class="posttitle">java语法-03</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2020-03-09<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-03-13</time><span class="post-meta__separator mobile_hidden">|</span><span class="mobile_hidden"><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/blog/categories/%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/">基础语法</a></span><div class="post-meta-wordcount"><i class="fa fa-file-word-o post-meta__icon" aria-hidden="true"></i><span>字数总计: </span><span class="word-count">10.2k</span><span class="post-meta__separator">|</span><i class="fa fa-clock-o post-meta__icon" aria-hidden="true"></i><span>阅读时长: 40 分钟</span><span class="post-meta__separator">|</span><i class="fa fa-eye post-meta__icon" aria-hidden="true">       </i><span>阅读量: </span><span id="busuanzi_value_page_pv"></span></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h3 id="File类"><a href="#File类" class="headerlink" title="File类"></a>File类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">IO流(Input Output) ：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">IO技术主要的作用是解决设备与设备之间 的数据传输问题。 比如： 硬盘---&gt;内存          内存的数据----&gt;硬盘上            把键盘的数据-------&gt;内存中</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">IO技术的应用场景：</span></span><br><span class="line"><span class="comment">	 导出报表 ， 上传大头照   、 下载 、 解释xml文件 ... </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">数据保存到硬盘上，该数据就可以做到永久性的保存。   数据一般是以文件的形式保存到硬盘上</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">sun使用了一个File类描述了文件或者文件夹的。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File类可以描述一个文件或者一个文件夹。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File类的构造方法：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	File(String pathname)  指定文件或者文件夹的路径创建一个File文件。</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	File(File parent, String child)   根据 parent 抽象路径名和 child 路径名字符串创建一个新 File 实例。 </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	File(String parent, String child) </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">目录分隔符：  在windows机器上 的目录分隔符是 \  ,在linux机器上的目录分隔符是/ .</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">注意：  在windows上面\ 与 / 都可以使用作为目录分隔符。 而且，如果写/ 的时候只需要写一个即可。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo1</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//File file = new File("F:"+File.separator+"a.txt"); //  在linux机器上是不是一个合法路径？？？ </span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:/a.txt"</span>); </span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*File parentFile = new File("F:\\");</span></span><br><span class="line"><span class="comment">		File file = new File("F:\\","a.txt");*/</span></span><br><span class="line">		System.out.println(<span class="string">"存在吗？ "</span>+ file.exists());  <span class="comment">// exists 判断该文件是否存在，存在返回true，否则返回false。</span></span><br><span class="line"><span class="comment">//		System.out.println("目录分隔符："+ File.separator);</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="路径问题"><a href="#路径问题" class="headerlink" title="路径问题"></a>路径问题</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">路径问题： </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">绝对路径： 该文件在硬盘上 的完整路径。绝对路径一般都是以盘符开头的。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">相对路径:  相对路径就是资源文件相对于当前程序所在的路径。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> . 当前路径</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> .. 上一级路径</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">注意： 如果程序当前所在的路径与资源文件不是在同一个盘下面，是没法写相对路径 的。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span>  File(<span class="string">"."</span>);</span><br><span class="line">		System.out.println(<span class="string">"当前路径是："</span>+ file.getAbsolutePath());</span><br><span class="line">		</span><br><span class="line">		File file2 = <span class="keyword">new</span> File(<span class="string">"..\\..\\a.txt"</span>);</span><br><span class="line">		System.out.println(<span class="string">"存在吗？"</span>+ file2.exists());</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">创建：</span></span><br><span class="line"><span class="comment">	createNewFile()	在指定位置创建一个空文件，成功就返回true，如果已存在就不创建然后返回false</span></span><br><span class="line"><span class="comment">	mkdir()			在指定位置创建目录，这只会创建最后一级目录，如果上级目录不存在就抛异常。</span></span><br><span class="line"><span class="comment">	mkdirs()		在指定位置创建目录，这会创建路径中所有不存在的目录。</span></span><br><span class="line"><span class="comment">	renameTo(File dest)	重命名文件或文件夹，也可以操作非空的文件夹，文件不同时相当于文件的剪切,剪切时候不能操作非空的文件夹。移动/重命名成功则返回true，失败则返回false。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo3</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\aa"</span>);</span><br><span class="line">		System.out.println(<span class="string">"创建成功了吗？"</span>+file.createNewFile()); <span class="comment">//createNewFile 创建一个指定的文件，如果该文件存在了，则不会再创建，如果还没有存在则创建。创建成功返回true，否则返回false。</span></span><br><span class="line">		</span><br><span class="line">		File dir = <span class="keyword">new</span>  File(<span class="string">"F:\\a.txt"</span>);</span><br><span class="line">		System.out.println(<span class="string">"创建文件夹成功吗？"</span>+dir.mkdir()); <span class="comment">// mkdir 创建一个单级文件夹，</span></span><br><span class="line">		dir = <span class="keyword">new</span> File(<span class="string">"F:\\aa\\bb"</span>);</span><br><span class="line">		System.out.println(<span class="string">"创建多级文件夹："</span>+ dir.mkdirs());</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//renameTo()  如果目标文件与源文件是在同一个路径下，那么renameTo的作用是重命名， 如果目标文件与源文件不是在同一个路径下，那么renameTo的作用就是剪切，而且还不能操作文件夹。 </span></span><br><span class="line">		File destFile = <span class="keyword">new</span> File(<span class="string">"F:\\aaaaaaw"</span>);</span><br><span class="line">		System.out.println(<span class="string">"重命名成功吗？"</span>+file.renameTo(destFile)) ; </span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="删除-amp-判断"><a href="#删除-amp-判断" class="headerlink" title="删除&amp;判断"></a>删除&amp;判断</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">删除：</span></span><br><span class="line"><span class="comment">delete()		删除文件或一个空文件夹，如果是文件夹且不为空，则不能删除，成功返回true，失败返回false。</span></span><br><span class="line"><span class="comment">deleteOnExit()	在虚拟机终止时，请求删除此抽象路径名表示的文件或目录，保证程序异常时创建的临时文件也可以被删除</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	判断：</span></span><br><span class="line"><span class="comment">		exists()		文件或文件夹是否存在。</span></span><br><span class="line"><span class="comment">		isFile()		是否是一个文件，如果不存在，则始终为false。</span></span><br><span class="line"><span class="comment">		isDirectory()	是否是一个目录，如果不存在，则始终为false。</span></span><br><span class="line"><span class="comment">		isHidden()		是否是一个隐藏的文件或是否是隐藏的目录。</span></span><br><span class="line"><span class="comment">		isAbsolute()	测试此抽象路径名是否为绝对路径名。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo4</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	<span class="comment">/*	</span></span><br><span class="line"><span class="comment">	    删除的。</span></span><br><span class="line"><span class="comment">	 * File file = new File("F:\\a.txt");</span></span><br><span class="line"><span class="comment">		System.out.println("删除成功吗？ "+ file.delete()); //delete方法不能用于删除非空的文件夹。 delete方法会马上删除一个文件。</span></span><br><span class="line"><span class="comment">		file.deleteOnExit();  //jvm退出的时候删除文件。  一般用于删除临时 文件。		</span></span><br><span class="line"><span class="comment">		System.out.println("哈哈哈");</span></span><br><span class="line"><span class="comment">		</span></span><br><span class="line"><span class="comment">		判断</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"..\\..\\a.txt"</span>);</span><br><span class="line">		System.out.println(<span class="string">"存在吗？"</span>+ file.exists());</span><br><span class="line">		System.out.println(<span class="string">"判断是否是一个文件："</span>+file.isFile()); <span class="comment">//如果是文件返回true，否则返回false.</span></span><br><span class="line">		System.out.println(<span class="string">"判断是否是一个文件夹："</span>+ file.isDirectory()); <span class="comment">// 是文件夹返回ture，否则返回false.</span></span><br><span class="line">		System.out.println(<span class="string">"是隐藏的 文件吗："</span>+ file.isHidden());</span><br><span class="line">		System.out.println(<span class="string">"是绝对路吗？"</span>+ file.isAbsolute());</span><br><span class="line">	&#125;	</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="获取"><a href="#获取" class="headerlink" title="获取"></a>获取</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.sql.Date;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">获取：</span></span><br><span class="line"><span class="comment">	getName()		获取文件或文件夹的名称，不包含上级路径。</span></span><br><span class="line"><span class="comment">	getPath()       返回绝对路径，可以是相对路径，但是目录要指定</span></span><br><span class="line"><span class="comment">	getAbsolutePath()	获取文件的绝对路径，与文件是否存在没关系</span></span><br><span class="line"><span class="comment">	length()		获取文件的大小（字节数），如果文件不存在则返回0L，如果是文件夹也返回0L。</span></span><br><span class="line"><span class="comment">	getParent()		返回此抽象路径名父目录的路径名字符串；如果此路径名没有指定父目录，则返回null。</span></span><br><span class="line"><span class="comment">	lastModified()	获取最后一次被修改的时间。</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span>  <span class="title">Demo5</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"..\\..\\a.txt"</span>);</span><br><span class="line">		System.out.println(<span class="string">"文件名："</span>+ file.getName());</span><br><span class="line">		System.out.println(<span class="string">"获取绝对路径："</span>+ file.getPath());</span><br><span class="line">		System.out.println(<span class="string">"getAbsolutePath获取绝对路径："</span>+file.getAbsolutePath());</span><br><span class="line">		System.out.println(<span class="string">"获取文件的的大小(字节为单位)："</span>+ file.length());</span><br><span class="line">		System.out.println(<span class="string">"获取文件的父路径："</span>+ file.getParent());</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//使用毫秒值转换成Date对象</span></span><br><span class="line">		<span class="keyword">long</span> lastModified = file.lastModified();</span><br><span class="line">		Date date = <span class="keyword">new</span> Date(lastModified);	</span><br><span class="line">		SimpleDateFormat dateFormat = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy年MM月dd日  HH:mm:ss"</span>);</span><br><span class="line">		System.out.println(<span class="string">"获取最后一次的修改时间(毫秒值)："</span>+ dateFormat.format(date) );</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="文件夹相关"><a href="#文件夹相关" class="headerlink" title="文件夹相关"></a>文件夹相关</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">文件夹相关：</span></span><br><span class="line"><span class="comment">	staic File[] listRoots()	列出所有的根目录（Window中就是所有系统的盘符）</span></span><br><span class="line"><span class="comment">	list()						返回目录下的文件或者目录名，包含隐藏文件。对于文件这样操作会返回null。</span></span><br><span class="line"><span class="comment">	listFiles()					返回目录下的文件或者目录对象（File类实例），包含隐藏文件。对于文件这样操作会返回null。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	list(FilenameFilter filter)	返回指定当前目录中符合过滤条件的子文件或子目录。对于文件这样操作会返回null。</span></span><br><span class="line"><span class="comment">	listFiles(FilenameFilter filter)	返回指定当前目录中符合过滤条件的子文件或子目录。对于文件这样操作会返回null。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo6</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">/*File[] roots = File.listRoots(); //列出所有的根目录</span></span><br><span class="line"><span class="comment">		for(File file  : roots)&#123;</span></span><br><span class="line"><span class="comment">			System.out.println(file);</span></span><br><span class="line"><span class="comment">		&#125;*/</span></span><br><span class="line">		</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\1208\\day17"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		String[] fileNames = file.list(); //把 当前文件夹下面的所有子文件名与子文件夹名 存储到一个String类型 的数组中 返回。</span></span><br><span class="line"><span class="comment">		for(String fileName : fileNames)&#123;</span></span><br><span class="line"><span class="comment">			System.out.println(fileName);</span></span><br><span class="line"><span class="comment">		&#125;*/</span></span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		File[] files = file.listFiles(); <span class="comment">// 把 当前文件夹下面的所有子文件与子文件夹都使用了一个FIle对象描述，然后把这些File对象存储到一个FIle数组中返回</span></span><br><span class="line">		<span class="keyword">for</span>(File fileItem : files)&#123;</span><br><span class="line">			System.out.println(<span class="string">"文件名："</span>+ fileItem.getName());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FilenameFilter;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">需求1 ：  指定一个文件夹，然后该文件夹下面所有java文件。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">需求2： 指定一个文件夹，然后列出文件夹下面的所有子文件与文件夹，但是格式要如下:</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">文件：</span></span><br><span class="line"><span class="comment">	文件名1</span></span><br><span class="line"><span class="comment">	文件名2</span></span><br><span class="line"><span class="comment">	文件名3</span></span><br><span class="line"><span class="comment">	..</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">文件夹：</span></span><br><span class="line"><span class="comment">	文件夹名1</span></span><br><span class="line"><span class="comment">	文件夹名2</span></span><br><span class="line"><span class="comment">	文件夹名3</span></span><br><span class="line"><span class="comment">	....</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	listFiles(FilenameFilter filter)	返回指定当前目录中符合过滤条件的子文件或子目录。对于文件这样操作会返回null。</span></span><br><span class="line"><span class="comment">list(fileNameFilter filter)	返回指定当前目录中符合过滤条件的子文件或子目录。对于文件这样操作会返回null。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义一个文件名过滤器</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyFilter</span> <span class="keyword">implements</span> <span class="title">FilenameFilter</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File dir, String name)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//System.out.println("文件夹:"+dir+" 文件名："+ name);</span></span><br><span class="line">		<span class="keyword">return</span> name.endsWith(<span class="string">".java"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo7</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		File dir = <span class="keyword">new</span> File(<span class="string">"F:\\1208\\day06\\代码\\day06"</span>);</span><br><span class="line">		listJava2(dir);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">listJava2</span><span class="params">(File dir)</span></span>&#123;</span><br><span class="line">		File[] files = dir.listFiles(<span class="keyword">new</span> MyFilter()); <span class="comment">//得到文件夹下面的所有子文件与文件夹。</span></span><br><span class="line">		<span class="keyword">for</span>(File file : files)&#123;</span><br><span class="line">			System.out.println(file.getName());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//列出所有的java文件</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">listJava</span><span class="params">(File dir)</span></span>&#123;</span><br><span class="line">		File[] files = dir.listFiles(); <span class="comment">//获取到了所有的子文件</span></span><br><span class="line">		<span class="keyword">for</span>(File file : files)&#123;</span><br><span class="line">			String fileName = file.getName();</span><br><span class="line">			<span class="comment">/*if(fileName.endsWith(".java")&amp;&amp;file.isFile())&#123;</span></span><br><span class="line"><span class="comment">				System.out.println(fileName);</span></span><br><span class="line"><span class="comment">			&#125;*/</span></span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(fileName.matches(<span class="string">".+\\.java"</span>)&amp;&amp;file.isFile())&#123;</span><br><span class="line">				System.out.println(fileName);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">listFile</span><span class="params">(File dir)</span></span>&#123;</span><br><span class="line">		File[] files = dir.listFiles();<span class="comment">//获取到所有的子文件</span></span><br><span class="line">		System.out.println(<span class="string">"文件："</span>);</span><br><span class="line">		<span class="keyword">for</span>(File fileItem : files)&#123;</span><br><span class="line">			<span class="keyword">if</span>(fileItem.isFile())&#123;</span><br><span class="line">				System.out.println(<span class="string">"\t"</span>+fileItem.getName());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">"文件夹："</span>);</span><br><span class="line">		<span class="keyword">for</span>(File fileItem : files)&#123;</span><br><span class="line">			<span class="keyword">if</span>(fileItem.isDirectory())&#123;</span><br><span class="line">				System.out.println(<span class="string">"\t"</span>+fileItem.getName());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="FileInputStream"><a href="#FileInputStream" class="headerlink" title="FileInputStream"></a>FileInputStream</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.input;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> File类: 用于描述一个文件或者文件夹的。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> 通过File对象我们可以读取文件或者文件夹的属性数据，如果我们需要读取文件的内容数据，那么我们需要使用IO流技术。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">IO流（Input Output）</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">IO流解决问题： 解决设备与设备之间的数据传输问题。  内存---&gt;硬盘   硬盘---&gt;内存</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">IO流技术：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">IO流分类：</span></span><br><span class="line"><span class="comment">	如果是按照数据的流向划分：</span></span><br><span class="line"><span class="comment">		</span></span><br><span class="line"><span class="comment">		输入流</span></span><br><span class="line"><span class="comment">		</span></span><br><span class="line"><span class="comment">		</span></span><br><span class="line"><span class="comment">		输出流</span></span><br><span class="line"><span class="comment">		</span></span><br><span class="line"><span class="comment">	如果按照处理的单位划分：</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">		字节流: 字节流读取得都是文件中二进制数据，读取到二进制数据不会经过任何的处理。</span></span><br><span class="line"><span class="comment">		</span></span><br><span class="line"><span class="comment">		</span></span><br><span class="line"><span class="comment">		字符流： 字符流读取的数据是以字符为单位的 。 字符流也是读取文件中的二进制数据，不过会把这些二进制数据转换成我们能 识别的字符。  </span></span><br><span class="line"><span class="comment">				字符流 = 字节流 + 解码</span></span><br><span class="line"><span class="comment">				</span></span><br><span class="line"><span class="comment">输入字节流：</span></span><br><span class="line"><span class="comment">--------| InputStream 所有输入字节流的基类  抽象类</span></span><br><span class="line"><span class="comment">------------| FileInputStream  读取文件数据的输入字节流 </span></span><br><span class="line"><span class="comment">			</span></span><br><span class="line"><span class="comment">使用FileInputStream读取文件数据的步骤：</span></span><br><span class="line"><span class="comment">	1. 找到目标文件</span></span><br><span class="line"><span class="comment">	2. 建立数据的输入通道。</span></span><br><span class="line"><span class="comment">	3. 读取文件中的数据。</span></span><br><span class="line"><span class="comment">	4. 关闭 资源.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">				 </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo1</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		readTest4();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//方式4：使用缓冲数组配合循环一起读取。28</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readTest4</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="keyword">long</span> startTime = System.currentTimeMillis();</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\美女\\1.jpg"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输入通道</span></span><br><span class="line">		FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">		<span class="comment">//建立缓冲数组配合循环读取文件的数据。</span></span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">0</span>; <span class="comment">//保存每次读取到的字节个数。</span></span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>]; <span class="comment">//存储读取到的数据    缓冲数组 的长度一般是1024的倍数，因为与计算机的处理单位。  理论上缓冲数组越大，效率越高</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span>((length = fileInputStream.read(buf))!=-<span class="number">1</span>)&#123; <span class="comment">// read方法如果读取到了文件的末尾，那么会返回-1表示。</span></span><br><span class="line">			System.out.print(<span class="keyword">new</span> String(buf,<span class="number">0</span>,length));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		fileInputStream.close();</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">		<span class="keyword">long</span> endTime = System.currentTimeMillis();</span><br><span class="line">		System.out.println(<span class="string">"读取的时间是："</span>+ (endTime-startTime)); <span class="comment">//446</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//方式3：使用缓冲 数组 读取。    缺点： 无法读取完整一个文件的数据。     12G</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readTest3</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\a.txt"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输入通道</span></span><br><span class="line">		FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">		<span class="comment">//建立缓冲字节数组，读取文件的数据。</span></span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];  <span class="comment">//相当于超市里面的购物车。</span></span><br><span class="line">		<span class="keyword">int</span> length = fileInputStream.read(buf); <span class="comment">// 如果使用read读取数据传入字节数组，那么数据是存储到字节数组中的，而这时候read方法的返回值是表示的是本次读取了几个字节数据到字节数组中。</span></span><br><span class="line">		System.out.println(<span class="string">"length:"</span>+ length);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//使用字节数组构建字符串</span></span><br><span class="line">		String content = <span class="keyword">new</span> String(buf,<span class="number">0</span>,length);</span><br><span class="line">		System.out.println(<span class="string">"内容："</span>+ content);</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		fileInputStream.close();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">	</span><br><span class="line">	<span class="comment">//方式2 ： 使用循环读取文件的数据</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readTest2</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="keyword">long</span> startTime = System.currentTimeMillis();</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\美女\\1.jpg"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输入通道</span></span><br><span class="line">		FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">		<span class="comment">//读取文件的数据</span></span><br><span class="line">		<span class="keyword">int</span> content = <span class="number">0</span>; <span class="comment">//声明该变量用于存储读取到的数据</span></span><br><span class="line">		<span class="keyword">while</span>((content = fileInputStream.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">			System.out.print((<span class="keyword">char</span>)content);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		fileInputStream.close();</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">long</span> endTime = System.currentTimeMillis();</span><br><span class="line">		System.out.println(<span class="string">"读取的时间是："</span>+ (endTime-startTime)); <span class="comment">//446</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//读取的方式一缺陷： 无法读取完整一个文件 的数据.</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readTest1</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//1. 找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\a.txt"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输入通道。</span></span><br><span class="line">		FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">		<span class="comment">//读取文件中的数据</span></span><br><span class="line">		<span class="keyword">int</span> content = fileInputStream.read(); <span class="comment">// read() 读取一个字节的数据，把读取的数据返回。</span></span><br><span class="line">		System.out.println(<span class="string">"读到的内容是："</span>+ (<span class="keyword">char</span>)content);</span><br><span class="line">		<span class="comment">//关闭资源    实际上就是释放资源。 </span></span><br><span class="line">		 fileInputStream.close();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="FileInputStream读取文件要注意的细节"><a href="#FileInputStream读取文件要注意的细节" class="headerlink" title="FileInputStream读取文件要注意的细节"></a>FileInputStream读取文件要注意的细节</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.input;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 问题1： 读取完一个文件的数据的时候，我不关闭资源有什么影响?</span></span><br><span class="line"><span class="comment"> 答案： 资源文件一旦 使用完毕应该马上释放，否则其他的程序无法对该资源文件进行其他 的操作。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\day18-day21.IO.doc"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输入通道</span></span><br><span class="line">		FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">		<span class="comment">//建立缓冲字节数组读取文件</span></span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">8</span>];</span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">0</span> ;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span>((length = fileInputStream.read(buf))!=-<span class="number">1</span>)&#123;</span><br><span class="line">			System.out.print(<span class="keyword">new</span> String(buf));  <span class="comment">// aaaa   bbba  bbb' '</span></span><br><span class="line"><span class="comment">//		System.out.println(Arrays.toString(buf));</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//释放文件资源</span></span><br><span class="line">		fileInputStream.close();</span><br><span class="line">		</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="OutPutStream"><a href="#OutPutStream" class="headerlink" title="OutPutStream"></a>OutPutStream</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.output;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 输出字节流：</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> --------| OutputStream 是所有输出字节流 的父类。  抽象类</span></span><br><span class="line"><span class="comment"> -----------| FileOutStream 向文件输出数据的输出字节流。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">FileOutputStream如何使用呢？</span></span><br><span class="line"><span class="comment">	1. 找到目标文件</span></span><br><span class="line"><span class="comment">	2. 建立数据的输出通道。</span></span><br><span class="line"><span class="comment">	3. 把数据转换成字节数组写出。</span></span><br><span class="line"><span class="comment">	4. 关闭资源</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">FileOutputStream要注意的细节：</span></span><br><span class="line"><span class="comment">	1. 使用FileOutputStream 的时候，如果目标文件不存在，那么会自动创建目标文件对象。 </span></span><br><span class="line"><span class="comment">	2. 使用FileOutputStream写数据的时候，如果目标文件已经存在，那么会先清空目标文件中的数据，然后再写入数据。</span></span><br><span class="line"><span class="comment">	3.使用FileOutputStream写数据的时候, 如果目标文件已经存在，需要在原来数据基础上追加数据的时候应该使用new FileOutputStream(file,true)构造函数，第二参数为true。</span></span><br><span class="line"><span class="comment">	4.使用FileOutputStream的write方法写数据的时候，虽然接收的是一个int类型的数据，但是真正写出的只是一个字节的数据，只是</span></span><br><span class="line"><span class="comment">	把低八位的二进制数据写出，其他二十四位数据全部丢弃。</span></span><br><span class="line"><span class="comment">	 </span></span><br><span class="line"><span class="comment">	 00000000-000000000-00000001-11111111   511</span></span><br><span class="line"><span class="comment">	 </span></span><br><span class="line"><span class="comment">	 </span></span><br><span class="line"><span class="comment">	 11111111---&gt; -1 </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	 </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo1</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		writeTest3();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//使用字节数组把数据写出。</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeTest3</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\b.txt"</span>);</span><br><span class="line">		<span class="comment">//建立数据输出通道</span></span><br><span class="line">		FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">		<span class="comment">//把数据写出。</span></span><br><span class="line">		String data = <span class="string">"abc"</span>;</span><br><span class="line">		<span class="keyword">byte</span>[] buf = data.getBytes();</span><br><span class="line">		fileOutputStream.write(buf, <span class="number">0</span>, <span class="number">3</span>); <span class="comment">// 0 从字节数组的指定索引值开始写， 2：写出两个字节。</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		fileOutputStream.close();</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//使用字节数组把数据写出。</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeTest2</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\b.txt"</span>);</span><br><span class="line">		<span class="comment">//建立数据输出通道</span></span><br><span class="line">		FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(file,<span class="keyword">true</span>);</span><br><span class="line">		<span class="comment">//把数据写出。</span></span><br><span class="line">		String data = <span class="string">"\r\nhello world"</span>;</span><br><span class="line">		fileOutputStream.write(data.getBytes());</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		fileOutputStream.close();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//每次只能写一个字节的数据出去。</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeTest1</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\b.txt"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输出通道</span></span><br><span class="line">		FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">		<span class="comment">//把数据写出</span></span><br><span class="line">		fileOutputStream.write(<span class="string">'h'</span>);</span><br><span class="line">		fileOutputStream.write(<span class="string">'e'</span>);</span><br><span class="line">		fileOutputStream.write(<span class="string">'l'</span>);</span><br><span class="line">		fileOutputStream.write(<span class="string">'l'</span>);</span><br><span class="line">		fileOutputStream.write(<span class="string">'o'</span>);</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		fileOutputStream.close();</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="案例：拷贝一张图片"><a href="#案例：拷贝一张图片" class="headerlink" title="案例：拷贝一张图片"></a>案例：拷贝一张图片</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.output;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">需求： 拷贝一张图片。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CopyImage</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File inFile = <span class="keyword">new</span> File(<span class="string">"F:\\美女\\1.jpg"</span>);</span><br><span class="line">		File destFile = <span class="keyword">new</span> File(<span class="string">"E:\\1.jpg"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输入输出通道</span></span><br><span class="line">		FileInputStream fileInputStream = <span class="keyword">new</span>  FileInputStream(inFile);</span><br><span class="line">		FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(destFile); <span class="comment">//追加数据....</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//每新创建一个FileOutputStream的时候，默认情况下FileOutputStream 的指针是指向了文件的开始的位置。 每写出一次，指向都会出现相应移动。</span></span><br><span class="line">		<span class="comment">//建立缓冲数据，边读边写</span></span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>]; </span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">0</span> ; </span><br><span class="line">		<span class="keyword">while</span>((length = fileInputStream.read(buf))!=-<span class="number">1</span>)&#123; <span class="comment">//最后一次只剩下了824个字节</span></span><br><span class="line">			fileOutputStream.write(buf,<span class="number">0</span>,length); <span class="comment">//写出很多次数据，所以就必须要追加。</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//关闭资源 原则： 先开后关，后开先关。</span></span><br><span class="line">		fileOutputStream.close();</span><br><span class="line">		fileInputStream.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="IO异常处理"><a href="#IO异常处理" class="headerlink" title="IO异常处理"></a>IO异常处理</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.exception;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.management.RuntimeErrorException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> IO异常 的处理</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	<span class="comment">//	readTest();</span></span><br><span class="line">		</span><br><span class="line">		copyImage();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 拷贝图片</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copyImage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		FileInputStream fileInputStream = <span class="keyword">null</span>;</span><br><span class="line">		FileOutputStream fileOutputStream = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="comment">// 找到目标文件</span></span><br><span class="line">			File inFile = <span class="keyword">new</span> File(<span class="string">"F:\\美女\\1.jpg"</span>);</span><br><span class="line">			File outFile = <span class="keyword">new</span> File(<span class="string">"E:\\1.jpg"</span>);</span><br><span class="line">			<span class="comment">// 建立输入输出通道</span></span><br><span class="line">			fileInputStream = <span class="keyword">new</span> FileInputStream(inFile);</span><br><span class="line">			fileOutputStream = <span class="keyword">new</span> FileOutputStream(outFile);</span><br><span class="line">			<span class="comment">// 建立缓冲数组，边读边写</span></span><br><span class="line">			<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">			<span class="keyword">int</span> length = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">while</span> ((length = fileInputStream.read(buf)) != -<span class="number">1</span>) &#123;</span><br><span class="line">				fileOutputStream.write(buf, <span class="number">0</span>, length);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			System.out.println(<span class="string">"拷贝图片出错..."</span>);</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="comment">// 关闭资源</span></span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">if</span> (fileOutputStream != <span class="keyword">null</span>) &#123;</span><br><span class="line">					fileOutputStream.close();</span><br><span class="line">					System.out.println(<span class="string">"关闭输出流对象成功..."</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				System.out.println(<span class="string">"关闭输出流资源失败..."</span>);</span><br><span class="line">				<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">			&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">				<span class="keyword">if</span> (fileInputStream != <span class="keyword">null</span>) &#123;</span><br><span class="line">					<span class="keyword">try</span> &#123;</span><br><span class="line">						fileInputStream.close();</span><br><span class="line">						System.out.println(<span class="string">"关闭输入流对象成功..."</span>);</span><br><span class="line">					&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">						System.out.println(<span class="string">"关闭输入流对象失败..."</span>);</span><br><span class="line">						<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readTest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		FileInputStream fileInputStream = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="comment">// 找到目标文件</span></span><br><span class="line">			File file = <span class="keyword">new</span> File(<span class="string">"F:\\aaaaa.txt"</span>);</span><br><span class="line">			<span class="comment">// 建立数据输入通道</span></span><br><span class="line">			fileInputStream = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">			<span class="comment">// 建立缓冲数组读取数据</span></span><br><span class="line">			<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">			<span class="keyword">int</span> length = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">while</span> ((length = fileInputStream.read(buf)) != -<span class="number">1</span>) &#123;</span><br><span class="line">				System.out.print(<span class="keyword">new</span> String(buf, <span class="number">0</span>, length));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">/*</span></span><br><span class="line"><span class="comment">			 * //处理的代码... 首先你要阻止后面的代码执行,而且要需要通知调用者这里出错了... throw new</span></span><br><span class="line"><span class="comment">			 * RuntimeException(e);</span></span><br><span class="line"><span class="comment">			 * //把IOException传递给RuntimeException包装一层，然后再抛出，这样子做的目的是</span></span><br><span class="line"><span class="comment">			 * 为了让调用者使用变得更加灵活。</span></span><br><span class="line"><span class="comment">			 */</span></span><br><span class="line">			System.out.println(<span class="string">"读取文件资源出错...."</span>);</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">if</span> (fileInputStream != <span class="keyword">null</span>) &#123;</span><br><span class="line">					fileInputStream.close();</span><br><span class="line">					System.out.println(<span class="string">"关闭资源成功..."</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				System.out.println(<span class="string">"关闭资源失败..."</span>);</span><br><span class="line">				<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="缓冲输入字节流"><a href="#缓冲输入字节流" class="headerlink" title="缓冲输入字节流"></a>缓冲输入字节流</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.buffered;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 我们清楚读取文件数据使用缓冲数组读取效率更高，sun也知道使用缓冲数组读取效率更高，那么</span></span><br><span class="line"><span class="comment"> 这时候sun给我们提供了一个------缓冲输入字节流对象,让我们可以更高效率读取文件。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">输入字节流体系： </span></span><br><span class="line"><span class="comment">----| InputStream  输入字节流的基类。 抽象</span></span><br><span class="line"><span class="comment">----------| FileInputStream 读取文件数据的输入字节流</span></span><br><span class="line"><span class="comment">----------| BufferedInputStream 缓冲输入字节流    缓冲输入字节流的出现主要是为了提高读取文件数据的效率。    </span></span><br><span class="line"><span class="comment">其实该类内部只不过是维护了一个8kb的字节数组而已。 </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">注意： 凡是缓冲流都不具备读写文件的能力。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">使用BufferedInputStream的步骤	:</span></span><br><span class="line"><span class="comment">	1. 找到目标文件。</span></span><br><span class="line"><span class="comment">	2. 建立数据 的输入通道</span></span><br><span class="line"><span class="comment">	3. 建立缓冲 输入字节流流</span></span><br><span class="line"><span class="comment">	4. 关闭资源</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo1</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		readTest2();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readTest2</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\a.txt"</span>);</span><br><span class="line">		</span><br><span class="line">		FileInputStream fileInputStream= <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">		BufferedInputStream bufferedInputStream= <span class="keyword">new</span> BufferedInputStream(fileInputStream);</span><br><span class="line">		bufferedInputStream.read();</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		FileOutputStream fileOutputStream= <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">		BufferedOutputStream bufferedOutputStream= <span class="keyword">new</span> BufferedOutputStream(fileOutputStream);</span><br><span class="line">		fileOutputStream.write(<span class="keyword">null</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//读取文件数据</span></span><br><span class="line">		<span class="keyword">int</span> content = <span class="number">0</span> ;</span><br><span class="line">		<span class="comment">//疑问二：BufferedInputStream出现 的目的是了提高读取文件的效率，但是BufferedInputStream的read方法每次读取一个字节的数据</span></span><br><span class="line">		<span class="comment">//而FileInputStreram每次也是读取一个字节的数据，那么BufferedInputStream效率高从何而来？</span></span><br><span class="line">		<span class="keyword">while</span>((content = fileInputStream.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">			System.out.print((<span class="keyword">char</span>)content);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		bufferedInputStream.close();<span class="comment">//调用BufferedInputStream的close方法实际上关闭的是FileinputStream.</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//读取文件的时候我们都是使用缓冲数组读取。效率会更加高</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readTest</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\a.txt"</span>);</span><br><span class="line">		<span class="comment">//建立数组通道</span></span><br><span class="line">		FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">		<span class="comment">//建立缓冲数组读取数据</span></span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>*<span class="number">8</span>];</span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">0</span>; </span><br><span class="line">		<span class="keyword">while</span>((length = fileInputStream.read(buf))!=-<span class="number">1</span>)&#123;</span><br><span class="line">			System.out.print(<span class="keyword">new</span> String(buf,<span class="number">0</span>,length));</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		fileInputStream.close();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="缓冲输出字节流"><a href="#缓冲输出字节流" class="headerlink" title="缓冲输出字节流"></a>缓冲输出字节流</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.buffered;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">输出字节流</span></span><br><span class="line"><span class="comment">--------| OutputStream  所有输出字节流的基类  抽象类</span></span><br><span class="line"><span class="comment">------------| FileOutputStream 向文件 输出数据 的输出字节流</span></span><br><span class="line"><span class="comment">------------| Bufferedoutputstream  缓冲输出字节流    BufferedOutputStream出现的目的是为了提高写数据的效率。 </span></span><br><span class="line"><span class="comment">        						内部也是维护了一个8kb的字节数组而已。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> 使用BufferedOutputStream的步骤：</span></span><br><span class="line"><span class="comment"> 	1. 找到目标文件</span></span><br><span class="line"><span class="comment"> 	2. 建立数据的输出通道</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">BufferedOutputStream 要注意的细节</span></span><br><span class="line"><span class="comment">	1. 使用BufferedOutStream写数据的时候，它的write方法是是先把数据写到它内部维护的字节数组中。</span></span><br><span class="line"><span class="comment"> 	2. 使用BufferedOutStream写数据的时候，它的write方法是是先把数据写到它内部维护的字节数组中，如果需要把数据真正的写到硬盘上面，需要</span></span><br><span class="line"><span class="comment"> 	调用flush方法或者是close方法、 或者是内部维护的字节数组已经填满数据的时候。</span></span><br><span class="line"><span class="comment"> 	</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\a.txt"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输出通道</span></span><br><span class="line">		FileOutputStream  fileOutputStream = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">		<span class="comment">//建立缓冲输出字节流对象</span></span><br><span class="line">		BufferedOutputStream bufferedOutputStream  = <span class="keyword">new</span> BufferedOutputStream(fileOutputStream);</span><br><span class="line">		<span class="comment">//把数据写出</span></span><br><span class="line">		bufferedOutputStream.write(<span class="string">"hello world"</span>.getBytes()); </span><br><span class="line">		<span class="comment">//把缓冲数组中内部的数据写到硬盘上面。</span></span><br><span class="line">		<span class="comment">//bufferedOutputStream.flush();</span></span><br><span class="line">		bufferedOutputStream.close();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="案例：缓冲字节流拷贝图片"><a href="#案例：缓冲字节流拷贝图片" class="headerlink" title="案例：缓冲字节流拷贝图片"></a>案例：缓冲字节流拷贝图片</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.buffered;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">练习： 使用缓冲输入输出字节流拷贝一个图片。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CopyImage</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File  inFile = <span class="keyword">new</span> File(<span class="string">"F:\\美女\\1.jpg"</span>);</span><br><span class="line">		File outFile = <span class="keyword">new</span> File(<span class="string">"E:\\1.jpg"</span>);</span><br><span class="line">		<span class="comment">//建立数据输入输出通道</span></span><br><span class="line">		FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(inFile);</span><br><span class="line">		FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(outFile);</span><br><span class="line">		<span class="comment">//建立缓冲输入输出流</span></span><br><span class="line">		BufferedInputStream bufferedInputStream = <span class="keyword">new</span> BufferedInputStream(fileInputStream);</span><br><span class="line">		BufferedOutputStream bufferedOutputStream = <span class="keyword">new</span> BufferedOutputStream(fileOutputStream);</span><br><span class="line">		<span class="comment">//边读边写</span></span><br><span class="line">		<span class="keyword">int</span> content = <span class="number">0</span>; </span><br><span class="line">		<span class="comment">// int length = bufferedInputStream.read(buf);   如果传入了缓冲数组，内容是存储到缓冲数组中，返回值是存储到缓冲数组中的字节个数。</span></span><br><span class="line">		<span class="keyword">while</span>((content = bufferedInputStream.read())!=-<span class="number">1</span>)&#123; <span class="comment">// 如果使用read方法没有传入缓冲数组，那么返回值是读取到的内容。</span></span><br><span class="line">			bufferedOutputStream.write(content);</span><br><span class="line"><span class="comment">//			bufferedOutputStream.flush();</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		bufferedInputStream.close();</span><br><span class="line">		bufferedOutputStream.close();</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="使用字节流读写中文"><a href="#使用字节流读写中文" class="headerlink" title="使用字节流读写中文"></a>使用字节流读写中文</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.reader;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo1</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"><span class="comment">//		writeTest();</span></span><br><span class="line">		readrTest();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//使用字节流读取中文</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readrTest</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\a.txt"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输入通道</span></span><br><span class="line">		FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">		<span class="comment">//读取内容</span></span><br><span class="line">		<span class="comment">//int content = 0;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*while((content = fileInputStream.read())!=-1)&#123; //出现乱码的原因： 一个中文在gbk码表中默认是占两个字节，</span></span><br><span class="line"><span class="comment">													   // 目前你只读取了一个字节而已，所以不是一个完整的中文。</span></span><br><span class="line"><span class="comment">			System.out.print((char)content);</span></span><br><span class="line"><span class="comment">		&#125;*/</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">2</span>];</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">3</span> ; i++)&#123;</span><br><span class="line">			fileInputStream.read(buf);</span><br><span class="line">			System.out.print(<span class="keyword">new</span> String(buf));</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		fileInputStream.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//使用字节流写中文。   字节流之所以能够写中文是因为借助了字符串的getBytes方法对字符串进行了编码（字符----&gt;数字）。 </span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeTest</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\a.txt"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输出通道</span></span><br><span class="line">		FileOutputStream fileOutputStream  = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">		<span class="comment">//准备数据，把数据写出。</span></span><br><span class="line">		String data = <span class="string">"大家好"</span>;</span><br><span class="line">		<span class="keyword">byte</span>[] buf = data.getBytes();	<span class="comment">//把字符串转换成字节数组</span></span><br><span class="line">		System.out.println(<span class="string">"输出的内容："</span>+ Arrays.toString(buf));</span><br><span class="line">		fileOutputStream.write(buf);</span><br><span class="line">		<span class="comment">///关闭资源</span></span><br><span class="line">		fileOutputStream.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="输入字符流"><a href="#输入字符流" class="headerlink" title="输入字符流"></a>输入字符流</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.reader;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">字节流：字节流读取的是文件中的二进制数据，读到的数据并不会帮你转换成你看得懂的字符。 </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">字符流： 字符流会把读取到的二进制的数据进行对应 的编码与解码工作。   字符流 = 字节流 + 编码(解码)</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">输入字符流：</span></span><br><span class="line"><span class="comment">----------| Reader 输入字符流的基类   抽象类</span></span><br><span class="line"><span class="comment">-------------| FileReader 读取文件的输入字符流。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">FileReader的用法：</span></span><br><span class="line"><span class="comment">	1. 找到目标文件</span></span><br><span class="line"><span class="comment">	2. 建立数据的输入通道</span></span><br><span class="line"><span class="comment">	3. 读取数据</span></span><br><span class="line"><span class="comment">	4. 关闭资源</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		readTest2();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//使用缓冲字符数组读取文件。</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readTest2</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\1208project\\day21\\src\\day21\\Demo1.java"</span>);</span><br><span class="line">		<span class="comment">// 建立数据的输入通道</span></span><br><span class="line">		FileReader fileReader = <span class="keyword">new</span> FileReader(file);</span><br><span class="line">		<span class="comment">//建立缓冲字符数组读取文件数据</span></span><br><span class="line">		<span class="keyword">char</span>[] buf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">0</span> ; </span><br><span class="line">		<span class="keyword">while</span>((length = fileReader.read(buf))!=-<span class="number">1</span>)&#123;</span><br><span class="line">			System.out.print(<span class="keyword">new</span> String(buf,<span class="number">0</span>,length));</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readTest1</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\1208project\\day21\\src\\day21\\Demo1.java"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输入通道</span></span><br><span class="line">		FileReader fileReader = <span class="keyword">new</span> FileReader(file);</span><br><span class="line">		<span class="keyword">int</span> content = <span class="number">0</span> ;</span><br><span class="line">		<span class="keyword">while</span>((content = fileReader.read())!=-<span class="number">1</span>)&#123; <span class="comment">//每次只会读取一个字符，效率低。</span></span><br><span class="line">			System.out.print((<span class="keyword">char</span>)content);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		fileReader.close();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="输出字符流"><a href="#输出字符流" class="headerlink" title="输出字符流"></a>输出字符流</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.writer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">输出字符流:</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">------| Writer 输出字符流的基类。 抽象类</span></span><br><span class="line"><span class="comment">-----------| FileWriter 向文件数据数据的输出字符流</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">FileWriter的使用步骤：</span></span><br><span class="line"><span class="comment">	1. 找到目标文件。</span></span><br><span class="line"><span class="comment">	2. 建立数据输出通道</span></span><br><span class="line"><span class="comment">	3. 写出数据。</span></span><br><span class="line"><span class="comment">	4. 关闭资源</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">FileWriter要注意的事项：</span></span><br><span class="line"><span class="comment">	1. 使用FileWriter写数据的时候，FileWriter内部是维护了一个1024个字符数组的，写数据的时候会先写入到它内部维护的字符数组中，如果需要</span></span><br><span class="line"><span class="comment">	把数据真正写到硬盘上，需要调用flush或者是close方法或者是填满了内部的字符数组。</span></span><br><span class="line"><span class="comment">	2. 使用FileWriter的时候，如果目标文件不存在，那么会自动创建目标文件。</span></span><br><span class="line"><span class="comment">	3.使用FileWriter的时候， 如果目标文件已经存在了，那么默认情况会先情况文件中的数据，然后再写入数据 ， 如果需要在原来的基础上追加数据，</span></span><br><span class="line"><span class="comment">	需要使用“new FileWriter(File , boolean)”的构造方法，第二参数为true。</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">练习： 使用字符流拷贝一个文本文件(java文件). </span></span><br><span class="line"><span class="comment">接着使用字符流拷贝一个图片（观察图片的大小变化，思考为什么会这样子??）</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		writeTest1();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span>  <span class="title">writeTest1</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\a.txt"</span>);</span><br><span class="line">		<span class="comment">//建立数据输出通道</span></span><br><span class="line">		FileWriter fileWriter = <span class="keyword">new</span> FileWriter(file,<span class="keyword">true</span>);</span><br><span class="line">		<span class="comment">//准备数据，把数据写出</span></span><br><span class="line">		String data = <span class="string">"今天天气非常好！！"</span>;</span><br><span class="line">		fileWriter.write(data);  <span class="comment">//字符流具备解码的功能。</span></span><br><span class="line">		<span class="comment">//刷新字符流</span></span><br><span class="line"><span class="comment">//		fileWriter.flush();</span></span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		fileWriter.close();</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="使用字符流拷贝文件"><a href="#使用字符流拷贝文件" class="headerlink" title="使用字符流拷贝文件"></a>使用字符流拷贝文件</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.writer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">何时使用字符流，何时使用字节流？依据是什么？</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">使用字符流的应用场景： 如果是读写字符数据的时候则使用字符流。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">使用字节流的应用场景： 如果读写的数据都不需要转换成字符的时候，则使用字节流。 </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//使用字符流拷贝图片  （无法打开拷贝完成的图片）</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Copy</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		BufferedReader bufferedReader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">"F:\\Test.txt"</span>));</span><br><span class="line">		BufferedWriter bufferedWriter = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">"E:\\Test.exe"</span>));</span><br><span class="line">		String line=<span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">while</span>((line = bufferedReader.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">		bufferedWriter.write(line);</span><br><span class="line">		&#125;</span><br><span class="line">		bufferedWriter.close();</span><br><span class="line">		bufferedReader.close();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="使用字节流读取中文"><a href="#使用字节流读取中文" class="headerlink" title="使用字节流读取中文"></a>使用字节流读取中文</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.writer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用字节流读取中文</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\a.txt"</span>);</span><br><span class="line">		FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>((length = fileInputStream.read(buf))!=-<span class="number">1</span>)&#123;</span><br><span class="line">			System.out.println(<span class="keyword">new</span> String(buf,<span class="number">0</span>,length)); <span class="comment">//借用字符串的解码功能。</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="缓冲输入字符流"><a href="#缓冲输入字符流" class="headerlink" title="缓冲输入字符流"></a>缓冲输入字符流</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.buffered;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">输入字符流:</span></span><br><span class="line"><span class="comment">-------| Reader 所有输入字符流的基类。 抽象类</span></span><br><span class="line"><span class="comment">----------| FileReader 读取文件字符串的输入字符流。</span></span><br><span class="line"><span class="comment">----------| BufferedReader   缓冲输入字符流  。 缓冲 输入字符流出现的目的是为了提高读取文件 的效率和拓展了FileReader的功能。  其实该类内部也是维护了一个字符数组</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">记住：缓冲流都不具备读写文件的能力。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">BufferedReader的使用步骤：</span></span><br><span class="line"><span class="comment">	1.找到目标文件</span></span><br><span class="line"><span class="comment">	2 .建立数据的输入通道。</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"><span class="comment">//		 readTest1();</span></span><br><span class="line">		File file  = <span class="keyword">new</span> File(<span class="string">"F:\\1208project\\day21\\src\\cn\\itcast\\buffered\\Demo1.java"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输入通道。</span></span><br><span class="line">		FileReader fileReader = <span class="keyword">new</span> FileReader(file);</span><br><span class="line">		String line =  <span class="keyword">null</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span>((line = myReadLine(fileReader))!=<span class="keyword">null</span>)&#123;</span><br><span class="line">			System.out.println(line);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//自己去实现readLine方法。</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">myReadLine</span><span class="params">(FileReader fileReader)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//创建一个字符串缓冲类对象</span></span><br><span class="line">		StringBuilder sb = <span class="keyword">new</span> StringBuilder();  <span class="comment">//StringBuilder主要是用于存储读取到的数据</span></span><br><span class="line">		<span class="keyword">int</span> content = <span class="number">0</span> ;</span><br><span class="line">		<span class="keyword">while</span>((content = fileReader.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(content==<span class="string">'\r'</span>)&#123;</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span>(content==<span class="string">'\n'</span>)&#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				<span class="comment">//普通字符</span></span><br><span class="line">				sb.append((<span class="keyword">char</span>)content);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//代表已经读取完毕了。</span></span><br><span class="line">		<span class="keyword">if</span>(content ==-<span class="number">1</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> sb.toString();  </span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readTest1</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file  = <span class="keyword">new</span> File(<span class="string">"F:\\a.txt"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输入通道。</span></span><br><span class="line">		FileReader fileReader = <span class="keyword">new</span> FileReader(file);</span><br><span class="line">		<span class="comment">//建立缓冲输入字符流</span></span><br><span class="line">		BufferedReader bufferedReader = <span class="keyword">new</span> BufferedReader(fileReader);</span><br><span class="line">		<span class="comment">//读取数据</span></span><br><span class="line">		<span class="comment">/*int content = bufferedReader.read();  //读到了一个字符。 读取到的字符肯定也是从Bufferedreader内部的字符数组中获取的到。所以效率高。</span></span><br><span class="line"><span class="comment">		System.out.println((char)content);*/</span></span><br><span class="line">		<span class="comment">//使用BUfferedReader拓展的功能，readLine()  一次读取一行文本，如果读到了文件的末尾返回null表示。</span></span><br><span class="line">		String line =  <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">while</span>((line = bufferedReader.readLine())!=<span class="keyword">null</span>)&#123; <span class="comment">// 虽然readLine每次读取一行数据，但是但会的line是不包含\r\n的、</span></span><br><span class="line">			System.out.println(Arrays.toString(<span class="string">"aaa"</span>.getBytes()));</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		bufferedReader.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="缓冲输出字符流"><a href="#缓冲输出字符流" class="headerlink" title="缓冲输出字符流"></a>缓冲输出字符流</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.buffered;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">输出字符流</span></span><br><span class="line"><span class="comment">----------| Writer  所有输出字符流的基类，  抽象类。</span></span><br><span class="line"><span class="comment">--------------- | FileWriter 向文件输出字符数据的输出字符流。 </span></span><br><span class="line"><span class="comment">----------------| BufferedWriter 缓冲输出字符流          缓冲输出字符流作用： 提高FileWriter的写数据效率与拓展FileWriter的功能。</span></span><br><span class="line"><span class="comment">BufferedWriter内部只不过是提供了一个8192长度的字符数组作为缓冲区而已，拓展了FileWriter的功能。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">BufferedWriter如何使用？</span></span><br><span class="line"><span class="comment">	1. 找到目标文件</span></span><br><span class="line"><span class="comment"> 	2. 建立数据的输出通道</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\a.txt"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输出通道</span></span><br><span class="line">		FileWriter fileWriter = <span class="keyword">new</span> FileWriter(file,<span class="keyword">true</span>);</span><br><span class="line">		<span class="comment">//建立缓冲输出流对象</span></span><br><span class="line">		BufferedWriter bufferedWriter = <span class="keyword">new</span> BufferedWriter(fileWriter); </span><br><span class="line">		<span class="comment">//写出数据</span></span><br><span class="line"><span class="comment">//		bufferedWriter.newLine(); //newLine() 换行。 实际上就是向文件输出\r\n.</span></span><br><span class="line">		bufferedWriter.write(<span class="string">"\r\n"</span>);</span><br><span class="line">		bufferedWriter.write(<span class="string">"前两天李克强来萝岗！！"</span>);</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		bufferedWriter.flush();</span><br><span class="line"><span class="comment">//		bufferedWriter.close();</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="缓冲输入输出字符流注册登录"><a href="#缓冲输入输出字符流注册登录" class="headerlink" title="缓冲输入输出字符流注册登录"></a>缓冲输入输出字符流注册登录</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.buffered;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">练习： 缓冲输入输出字符流用户登陆注册...</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Login</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">			System.out.println(<span class="string">"请选择功能： A(注册)   B(登陆)"</span>);</span><br><span class="line">			String option =  scanner.next();</span><br><span class="line">			<span class="keyword">if</span>(<span class="string">"a"</span>.equalsIgnoreCase(option))&#123;</span><br><span class="line">				<span class="comment">//注册</span></span><br><span class="line">				reg();</span><br><span class="line">				</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">"b"</span>.equalsIgnoreCase(option))&#123;</span><br><span class="line">				<span class="comment">//登陆</span></span><br><span class="line">				login();</span><br><span class="line">				</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				System.out.println(<span class="string">"你的输入有误,请重新输入..."</span>);</span><br><span class="line">			&#125;	</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//登陆</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">login</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"请输入用户名："</span>);</span><br><span class="line">		String userName = scanner.next();</span><br><span class="line">		System.out.println(<span class="string">"请 输入密码："</span>);</span><br><span class="line">		String password = scanner.next();</span><br><span class="line">		String info = userName+<span class="string">" "</span>+ password;</span><br><span class="line">		<span class="comment">//读取文件的信息，查看是否有该用户的信息存在，如果存在则登陆成功。</span></span><br><span class="line">		<span class="comment">//建立数据的输入通道</span></span><br><span class="line">		<span class="comment">//建立缓冲输入字符流</span></span><br><span class="line">		BufferedReader bufferedReader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">"F:\\users.txt"</span>));</span><br><span class="line">		String line = <span class="keyword">null</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">boolean</span> isLogin = <span class="keyword">false</span>; <span class="comment">// 用于记录是否登陆成功的标识， 默认是登陆失败的。</span></span><br><span class="line">		<span class="comment">//不断的读取文件的内容</span></span><br><span class="line">		<span class="keyword">while</span>((line = bufferedReader.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(info.equals(line))&#123;</span><br><span class="line">				isLogin = <span class="keyword">true</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(isLogin)&#123;</span><br><span class="line">			System.out.println(<span class="string">"欢迎"</span>+userName+<span class="string">"登陆成功..."</span>);</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			System.out.println(<span class="string">"不存在该用户信息，请注册!!"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//注册</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">reg</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"请输入用户名："</span>);</span><br><span class="line">		String userName = scanner.next();</span><br><span class="line">		System.out.println(<span class="string">"请 输入密码："</span>);</span><br><span class="line">		String password = scanner.next();</span><br><span class="line">		String info = userName+<span class="string">" "</span>+ password;</span><br><span class="line">		<span class="comment">//把用户的注册的信息写到文件上</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\users.txt"</span>);</span><br><span class="line">		FileWriter fileWriter = <span class="keyword">new</span> FileWriter(file,<span class="keyword">true</span>);</span><br><span class="line">		<span class="comment">//建立缓冲输出字符流</span></span><br><span class="line">		BufferedWriter bufferedWriter = <span class="keyword">new</span> BufferedWriter(fileWriter);</span><br><span class="line">		<span class="comment">//把用户信息写出</span></span><br><span class="line">		</span><br><span class="line">		bufferedWriter.write(info);</span><br><span class="line">		bufferedWriter.newLine();</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		bufferedWriter.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="装饰者设计模式1"><a href="#装饰者设计模式1" class="headerlink" title="装饰者设计模式1"></a>装饰者设计模式1</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> other;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.Reader;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 装饰者设计模式：增强一个类的功能，而且还可以让这些装饰类互相装饰。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> BufferedReader是不是拓展了FileReader的功能。</span></span><br><span class="line"><span class="comment"> BuferedWriter 也是拓展了FileWriter的功能。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> 需求1： 编写一个类拓展BufferedReader的功能， 增强readLine方法返回 的字符串带有行号。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">  需求2：编写一个类拓展BufferedReader的功能， 增强readLine方法返回 的字符串带有分号。</span></span><br><span class="line"><span class="comment">  </span></span><br><span class="line"><span class="comment">  需求3： 编写一个类拓展BufferedReader的功能， 增强readLine方法返回 的字符串带有双引号。</span></span><br><span class="line"><span class="comment">  </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> 需求4： 编写一个类拓展BufferedReader的功能， 增强readLine方法返回 的字符串带有行号+ 分号。</span></span><br><span class="line"><span class="comment">  </span></span><br><span class="line"><span class="comment"> 需求5： 编写一个类拓展BufferedReader的功能， 增强readLine方法返回 的字符串带有分号+ 双引号。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> 需求6： 编写一个类拓展BufferedReader的功能， 增强readLine方法返回 的字符串带有双引号+ 行号。</span></span><br><span class="line"><span class="comment">   </span></span><br><span class="line"><span class="comment"> 需求7： 编写一个类拓展BufferedReader的功能， 增强readLine方法返回 的字符串带有行号+ 分号+双引号。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">----| Reader</span></span><br><span class="line"><span class="comment">-----------| BufferedReader</span></span><br><span class="line"><span class="comment">---------------| BufferedLineNum  带行号</span></span><br><span class="line"><span class="comment">---------------| BufferedSemi    带分号</span></span><br><span class="line"><span class="comment">---------------| BufferedQuto   带双引</span></span><br><span class="line"><span class="comment">---------------| 子类.. </span></span><br><span class="line"><span class="comment">---------------|</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">增强一个类的功能时候我们可以选择使用继承：</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	通过继承实现增强一个类的功能优点：   代码结构清晰，通俗易懂。</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	缺点： 使用不灵活，会导致继承的体系过于庞大。</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BufferedLineNum</span> <span class="keyword">extends</span> <span class="title">BufferedReader</span></span>&#123;</span><br><span class="line">	<span class="comment">//行号</span></span><br><span class="line">	<span class="keyword">int</span> count = <span class="number">1</span> ;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">BufferedLineNum</span><span class="params">(Reader in)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(in);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">readLine</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		String line = <span class="keyword">super</span>.readLine(); </span><br><span class="line">		<span class="keyword">if</span>(line ==<span class="keyword">null</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		line = count+<span class="string">" "</span>+ line;</span><br><span class="line">		count++;</span><br><span class="line">		<span class="keyword">return</span> line;</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//带分号的缓冲输入字符流</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BufferedSemi</span> <span class="keyword">extends</span> <span class="title">BufferedReader</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">BufferedSemi</span><span class="params">(Reader in)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(in);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">readLine</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		String line =  <span class="keyword">super</span>.readLine();</span><br><span class="line">		<span class="keyword">if</span>(line==<span class="keyword">null</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		line = line+<span class="string">";"</span>;</span><br><span class="line">		<span class="keyword">return</span> line;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//带双引号的缓冲输入字符流</span></span><br><span class="line"><span class="class"><span class="keyword">class</span>  <span class="title">BufferedQuto</span> <span class="keyword">extends</span> <span class="title">BufferedReader</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">BufferedQuto</span><span class="params">(Reader in)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(in);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">readLine</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		String line = <span class="keyword">super</span>.readLine();</span><br><span class="line">		<span class="keyword">if</span>(line==<span class="keyword">null</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		line = <span class="string">"\""</span>+line+<span class="string">"\""</span>;</span><br><span class="line">		<span class="keyword">return</span> line;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\Demo1.java"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输入通道</span></span><br><span class="line">		FileReader fileReader = <span class="keyword">new</span> FileReader(file);</span><br><span class="line">		<span class="comment">//建立带行号的缓冲输入字符流</span></span><br><span class="line">		BufferedLineNum bufferedLineNum = <span class="keyword">new</span> BufferedLineNum(fileReader);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//带有分号的缓冲输入字符流</span></span><br><span class="line">		BufferedSemi bufferedSemi = <span class="keyword">new</span> BufferedSemi(fileReader);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//带有双引号的缓冲输入字符流</span></span><br><span class="line">		BufferedQuto bufferedQuto = <span class="keyword">new</span> BufferedQuto(fileReader);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		String line = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">while</span>((line = bufferedQuto.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">			System.out.println(line);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="装饰者设计模式2"><a href="#装饰者设计模式2" class="headerlink" title="装饰者设计模式2"></a>装饰者设计模式2</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> other;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">装饰者设计模式：增强一个类的功能，而且还可以让这些装饰类互相装饰。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">装饰者设计模式的步骤：</span></span><br><span class="line"><span class="comment">	1. 在装饰类的内部维护一个被装饰类的引用。</span></span><br><span class="line"><span class="comment">	2. 让装饰类有一个共同的父类或者是父接口。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">需求1： 编写一个类拓展BufferedReader的功能， 增强readLine方法返回 的字符串带有行号。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> 需求2：编写一个类拓展BufferedReader的功能， 增强readLine方法返回 的字符串带有分号。</span></span><br><span class="line"><span class="comment">  </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> 需求3： 编写一个类拓展BufferedReader的功能， 增强readLine方法返回 的字符串带有双引号。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> 需求4： 编写一个类拓展BufferedReader的功能， 增强readLine方法返回 的字符串带有行号+ 分号。</span></span><br><span class="line"><span class="comment">  </span></span><br><span class="line"><span class="comment">  </span></span><br><span class="line"><span class="comment"> 需求5： 编写一个类拓展BufferedReader的功能， 增强readLine方法返回 的字符串带有分号+ 双引号。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> 需求6： 编写一个类拓展BufferedReader的功能， 增强readLine方法返回 的字符串带有双引号+ 行号。</span></span><br><span class="line"><span class="comment">   </span></span><br><span class="line"><span class="comment"> 需求7： 编写一个类拓展BufferedReader的功能， 增强readLine方法返回 的字符串带有行号+ 分号+双引号。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">继承实现的增强类和修饰模式实现的增强类有何区别？</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	继承实现的增强类：</span></span><br><span class="line"><span class="comment">		优点：代码结构清晰，而且实现简单. </span></span><br><span class="line"><span class="comment">		缺点：对于每一个的需要增强的类都要创建具体的子类来帮助其增强，这样会导致继承体系过于庞大。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">修饰模式实现的增强类：</span></span><br><span class="line"><span class="comment">		优点：内部可以通过多态技术对多个需要增强的类进行增强， 可以是这些装饰类达到互相装饰的效果。使用比较灵活。</span></span><br><span class="line"><span class="comment">		</span></span><br><span class="line"><span class="comment">		缺点：需要内部通过多态技术维护需要被增强的类的实例。进而使得代码稍微复杂。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//带行号的缓冲输入字符流</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BufferedLineNum2</span>  <span class="keyword">extends</span> <span class="title">BufferedReader</span></span>&#123;  </span><br><span class="line">	</span><br><span class="line">	<span class="comment">//在内部维护一个被装饰类的引用。</span></span><br><span class="line">	BufferedReader bufferedReader;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">BufferedLineNum2</span><span class="params">(BufferedReader bufferedReader)</span></span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(bufferedReader);<span class="comment">// 注意： 该语句没有任何的作用，只不过是为了让代码不报错。</span></span><br><span class="line">		<span class="keyword">this</span>.bufferedReader = bufferedReader;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">readLine</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		String line = bufferedReader.readLine();</span><br><span class="line">		<span class="keyword">if</span>(line==<span class="keyword">null</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		line = count+<span class="string">" "</span>+line;</span><br><span class="line">		count++;</span><br><span class="line">		<span class="keyword">return</span> line;</span><br><span class="line">	&#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//带分号缓冲输入字符流</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BufferedSemi2</span> <span class="keyword">extends</span> <span class="title">BufferedReader</span></span>&#123;  <span class="comment">//为什么要继承?  是为了让这些装饰类的对象可以作为参数进行传递，达到互相装饰 的效果。</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//在内部维护一个被装饰类的引用。</span></span><br><span class="line">	BufferedReader bufferedReader;</span><br><span class="line">		</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">BufferedSemi2</span><span class="params">(BufferedReader bufferedReader)</span></span>&#123; <span class="comment">// new BuffereLineNum();</span></span><br><span class="line">		<span class="keyword">super</span>(bufferedReader);<span class="comment">// 注意： 该语句没有任何的作用，只不过是为了让代码不报错。</span></span><br><span class="line">		<span class="keyword">this</span>.bufferedReader = bufferedReader;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">readLine</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		String line = bufferedReader.readLine();  <span class="comment">//如果这里的ReadLine方法是调用了buffereLineNum的readLine方法，问题马上解决。</span></span><br><span class="line">		<span class="keyword">if</span>(line==<span class="keyword">null</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		line = line +<span class="string">";"</span>;</span><br><span class="line">		<span class="keyword">return</span> line;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//缓冲类带双引号</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BufferedQuto2</span> <span class="keyword">extends</span> <span class="title">BufferedReader</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//在内部维护一个被装饰的类</span></span><br><span class="line">	BufferedReader bufferedReader;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">BufferedQuto2</span><span class="params">(BufferedReader bufferedReader)</span></span>&#123;  <span class="comment">//new  BufferedSemi2();</span></span><br><span class="line">		<span class="keyword">super</span>(bufferedReader) ; <span class="comment">//只是为了让代码不报错..</span></span><br><span class="line">		<span class="keyword">this</span>.bufferedReader = bufferedReader;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">readLine</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		String line = bufferedReader.readLine();  <span class="comment">//如果这里的ReadLine方法是调用了buffereLineNum的readLine方法，问题马上解决。</span></span><br><span class="line">		<span class="keyword">if</span>(line==<span class="keyword">null</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		line = <span class="string">"\""</span>+line +<span class="string">"\""</span>;</span><br><span class="line">		<span class="keyword">return</span> line;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo2</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\Demo1.java"</span>);</span><br><span class="line">		FileReader fileReader = <span class="keyword">new</span> FileReader(file);</span><br><span class="line">		<span class="comment">//建立缓冲输入字符流</span></span><br><span class="line">		BufferedReader bufferedReader = <span class="keyword">new</span> BufferedReader(fileReader);</span><br><span class="line">		<span class="comment">//建立带行号的缓冲输入字符流</span></span><br><span class="line">		BufferedLineNum2 bufferedLineNum = <span class="keyword">new</span> BufferedLineNum2(bufferedReader);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//带分号的缓冲输入字符流</span></span><br><span class="line">		BufferedSemi2 bufferedSemi2 = <span class="keyword">new</span> BufferedSemi2(bufferedLineNum);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//带双引号的缓冲输入字符流</span></span><br><span class="line">		BufferedQuto2 bufferedQuto2 = <span class="keyword">new</span>  BufferedQuto2(bufferedSemi2);</span><br><span class="line">		</span><br><span class="line">		String line = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">while</span>((line = bufferedQuto2.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">			System.out.println(line);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="装饰者设计模式案例"><a href="#装饰者设计模式案例" class="headerlink" title="装饰者设计模式案例"></a>装饰者设计模式案例</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> other;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*练习：</span></span><br><span class="line"><span class="comment">	一家三口每个人都会工作，儿子的工作就是画画，母亲的工作就是在儿子的基础上做一个增强，不单止可以画画，还可以上涂料。</span></span><br><span class="line"><span class="comment">	爸爸的工作就是在妈妈基础上做了增强，就是上画框。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Work</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> <span class="keyword">implements</span> <span class="title">Work</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"画画..."</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mather</span> <span class="keyword">implements</span> <span class="title">Work</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//需要被增强的类。</span></span><br><span class="line">	Work worker;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Mather</span><span class="params">(Work worker)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.worker = worker;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		worker.work();</span><br><span class="line">		System.out.println(<span class="string">"给画上颜色.."</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span> <span class="keyword">implements</span> <span class="title">Work</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//需要被增强的类的引用</span></span><br><span class="line">	Work worker;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Father</span><span class="params">(Work worker)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.worker = worker;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		worker.work();</span><br><span class="line">		System.out.println(<span class="string">"上画框..."</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo3</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Son s = <span class="keyword">new</span> Son();</span><br><span class="line"><span class="comment">//		s.work();</span></span><br><span class="line">		Mather m = <span class="keyword">new</span> Mather(s);</span><br><span class="line"><span class="comment">//		m.work();</span></span><br><span class="line">		Father f = <span class="keyword">new</span> Father(s);</span><br><span class="line">		f.work();</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">clay</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://gy1310.github.io/blog/2020/03/09/java%E8%AF%AD%E6%B3%95-03/">http://gy1310.github.io/blog/2020/03/09/java%E8%AF%AD%E6%B3%95-03/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://gy1310.github.io/blog">clay's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/blog/tags/Java/">Java    </a><a class="post-meta__tags" href="/blog/tags/%E7%AC%94%E8%AE%B0/">笔记    </a></div><div class="post_share"></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/blog/2020/03/09/java%E8%AF%AD%E6%B3%95-04/"><img class="prev_cover lazyload" data-src="https://pic.downk.cc/item/5e6b334de83c3a1e3a803c21.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>java语法-04</span></div></a></div><div class="next-post pull_right"><a href="/blog/2020/03/09/java%E8%AF%AD%E6%B3%95-02/"><img class="next_cover lazyload" data-src="https://pic.downk.cc/item/5e6741ac98271cb2b89a450b.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>java语法-02</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/blog/2020/03/10/数据结构与算法/" title="数据结构与算法"><img class="relatedPosts_cover lazyload"data-src="https://pic.downk.cc/item/5e6741ac98271cb2b89a451f.jpg"><div class="relatedPosts_title">数据结构与算法</div></a></div><div class="relatedPosts_item"><a href="/blog/2020/03/09/java语法-04/" title="java语法-04"><img class="relatedPosts_cover lazyload"data-src="https://pic.downk.cc/item/5e6b334de83c3a1e3a803c21.jpg"><div class="relatedPosts_title">java语法-04</div></a></div><div class="relatedPosts_item"><a href="/blog/2020/03/09/java语法-02/" title="java语法-02"><img class="relatedPosts_cover lazyload"data-src="https://pic.downk.cc/item/5e6741ac98271cb2b89a450b.jpg"><div class="relatedPosts_title">java语法-02</div></a></div><div class="relatedPosts_item"><a href="/blog/2020/03/09/java语法-01/" title="java语法-01"><img class="relatedPosts_cover lazyload"data-src="https://pic.downk.cc/item/5e6b334de83c3a1e3a803c25.jpg"><div class="relatedPosts_title">java语法-01</div></a></div></div><div class="clear_both"></div></div></div></div><footer id="footer" style="background-image: url(https://pic.downk.cc/item/5e6b334de83c3a1e3a803c27.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2020 By clay</div><div class="framework-info"><span>Powered By </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">Hi , welcome to my <a href="http://g_clay.gitee.io/blog/" target="_blank" rel="noopener">blog</a>!</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/blog/js/utils.js"></script><script src="/blog/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="/blog/js/search/local-search.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.15/dist/snackbar.min.js"></script><script id="ribbon_piao" mobile="false" src="/blog/js/third-party/piao.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>