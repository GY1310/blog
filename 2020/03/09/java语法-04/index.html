<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>java语法-04 | clay's blog</title><meta name="description" content="java语法第四篇"><meta name="keywords" content="Java,笔记"><meta name="author" content="clay"><meta name="copyright" content="clay"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/blog/img/icon.png"><link rel="preconnect" href="//cdn.jsdelivr.net"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="java语法-04"><meta name="twitter:description" content="java语法第四篇"><meta name="twitter:image" content="https://pic.downk.cc/item/5e67934098271cb2b8c73db3.jpg"><meta property="og:type" content="article"><meta property="og:title" content="java语法-04"><meta property="og:url" content="http://1ttf0z.coding-pages.com/blog/2020/03/09/java%E8%AF%AD%E6%B3%95-04/"><meta property="og:site_name" content="clay's blog"><meta property="og:description" content="java语法第四篇"><meta property="og:image" content="https://pic.downk.cc/item/5e67934098271cb2b8c73db3.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'true'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/blog/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.15/dist/snackbar.min.css"><link rel="canonical" href="http://1ttf0z.coding-pages.com/blog/2020/03/09/java%E8%AF%AD%E6%B3%95-04/"><link rel="prev" title="数据结构与算法" href="http://1ttf0z.coding-pages.com/blog/2020/03/10/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"><link rel="next" title="java语法-03" href="http://1ttf0z.coding-pages.com/blog/2020/03/09/java%E8%AF%AD%E6%B3%95-03/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/blog/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: undefined,
  highlight_copy: 'true',
  highlight_lang: 'true',
  highlight_shrink: 'false',
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  copyright: {"languages":{"author":"作者: clay","link":"链接: http://1ttf0z.coding-pages.com/blog/2020/03/09/java%E8%AF%AD%E6%B3%95-04/","source":"来源: clay's blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  copy_copyright_js: true,
  ClickShowText: undefined,
  medium_zoom: 'false',
  Snackbar: {"bookmark":{"title":"Snackbar.bookmark.title","message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"}
  
}</script><meta name="generator" content="Hexo 4.2.0"></head><body><div id="header"> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/blog/">clay's blog</a></span><i class="fa fa-bars fa-fw toggle-menu pull_right close" aria-hidden="true"></i><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/blog/link/"><i class="fa-fw fa fa-link"></i><span> 相册</span></a></div><div class="menus_item"><a class="site-page" href="/blog/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 清单</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/blog/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/blog/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li></ul></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="lazyload avatar_img" src="https://pic.downk.cc/item/5e6601de98271cb2b81548a3.jpg" onerror="onerror=null;src='/img/friend_404.gif'"></div><div class="mobile_post_data"><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/blog/archives/"><div class="headline">文章</div><div class="length_num">14</div></a></div></div><div class="mobile_data_item is_center">      <div class="mobile_data_link"><a href="/blog/tags/"><div class="headline">标签</div><div class="length_num">7</div></a></div></div><div class="mobile_data_item is_center">     <div class="mobile_data_link"><a href="/blog/categories/"><div class="headline">分类</div><div class="length_num">4</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/blog/link/"><i class="fa-fw fa fa-link"></i><span> 相册</span></a></div><div class="menus_item"><a class="site-page" href="/blog/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 清单</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/blog/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/blog/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li></ul></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#SequenceInputStream-序列流"><span class="toc_mobile_items-text">SequenceInputStream(序列流)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#案例：合并切割mp3"><span class="toc_mobile_items-text">案例：合并切割mp3</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#对象的输入输出流"><span class="toc_mobile_items-text">对象的输入输出流</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Properties配置文件"><span class="toc_mobile_items-text">Properties配置文件</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-6"><a class="toc_mobile_items-link" href="#案例"><span class="toc_mobile_items-text">案例</span></a></li></ol></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#打印流PrintStream"><span class="toc_mobile_items-text">打印流PrintStream</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#编码与解码"><span class="toc_mobile_items-text">编码与解码</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#转换流"><span class="toc_mobile_items-text">转换流</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#递归"><span class="toc_mobile_items-text">递归</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-6"><a class="toc_mobile_items-link" href="#案例-1"><span class="toc_mobile_items-text">案例</span></a></li></ol></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#网络编程"><span class="toc_mobile_items-text">网络编程</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#udp通讯"><span class="toc_mobile_items-text">udp通讯</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-6"><a class="toc_mobile_items-link" href="#发送端"><span class="toc_mobile_items-text">发送端</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-6"><a class="toc_mobile_items-link" href="#接收端"><span class="toc_mobile_items-text">接收端</span></a></li></ol></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#飞秋发送消息"><span class="toc_mobile_items-text">飞秋发送消息</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#tcp通讯"><span class="toc_mobile_items-text">tcp通讯</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-6"><a class="toc_mobile_items-link" href="#tcp客户端"><span class="toc_mobile_items-text">tcp客户端</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-6"><a class="toc_mobile_items-link" href="#tcp服务端"><span class="toc_mobile_items-text">tcp服务端</span></a></li></ol></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#客户端与服务端聊天"><span class="toc_mobile_items-text">客户端与服务端聊天</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-6"><a class="toc_mobile_items-link" href="#客户端"><span class="toc_mobile_items-text">客户端</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-6"><a class="toc_mobile_items-link" href="#服务端"><span class="toc_mobile_items-text">服务端</span></a></li></ol></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#模拟Tomcat"><span class="toc_mobile_items-text">模拟Tomcat</span></a></li></ol></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#SequenceInputStream-序列流"><span class="toc-text">SequenceInputStream(序列流)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#案例：合并切割mp3"><span class="toc-text">案例：合并切割mp3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对象的输入输出流"><span class="toc-text">对象的输入输出流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Properties配置文件"><span class="toc-text">Properties配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#案例"><span class="toc-text">案例</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#打印流PrintStream"><span class="toc-text">打印流PrintStream</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#编码与解码"><span class="toc-text">编码与解码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#转换流"><span class="toc-text">转换流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#递归"><span class="toc-text">递归</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#案例-1"><span class="toc-text">案例</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#网络编程"><span class="toc-text">网络编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#udp通讯"><span class="toc-text">udp通讯</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#发送端"><span class="toc-text">发送端</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#接收端"><span class="toc-text">接收端</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#飞秋发送消息"><span class="toc-text">飞秋发送消息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tcp通讯"><span class="toc-text">tcp通讯</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#tcp客户端"><span class="toc-text">tcp客户端</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#tcp服务端"><span class="toc-text">tcp服务端</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#客户端与服务端聊天"><span class="toc-text">客户端与服务端聊天</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#客户端"><span class="toc-text">客户端</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#服务端"><span class="toc-text">服务端</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#模拟Tomcat"><span class="toc-text">模拟Tomcat</span></a></li></ol></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://pic.downk.cc/item/5e67934098271cb2b8c73db3.jpg)"><div id="post-info"><div id="post-title"><div class="posttitle">java语法-04</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2020-03-09<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-03-13</time><span class="post-meta__separator mobile_hidden">|</span><span class="mobile_hidden"><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/blog/categories/%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/">基础语法</a></span><div class="post-meta-wordcount"><i class="fa fa-file-word-o post-meta__icon" aria-hidden="true"></i><span>字数总计: </span><span class="word-count">7.3k</span><span class="post-meta__separator">|</span><i class="fa fa-clock-o post-meta__icon" aria-hidden="true"></i><span>阅读时长: 30 分钟</span><span class="post-meta__separator">|</span><i class="fa fa-eye post-meta__icon" aria-hidden="true">       </i><span>阅读量: </span><span id="busuanzi_value_page_pv"></span></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="SequenceInputStream-序列流"><a href="#SequenceInputStream-序列流" class="headerlink" title="SequenceInputStream(序列流)"></a>SequenceInputStream(序列流)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.other;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.SequenceInputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">SequenceInputStream(序列流)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">需求：把a.txt与b.txt 文件的内容合并。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo1</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		merge3();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//把三个文件合并成一个文件</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">merge3</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file1 = <span class="keyword">new</span> File(<span class="string">"F:\\a.txt"</span>);</span><br><span class="line">		File file2 = <span class="keyword">new</span> File(<span class="string">"F:\\b.txt"</span>);</span><br><span class="line">		File file3 = <span class="keyword">new</span> File(<span class="string">"F:\\c.txt"</span>);</span><br><span class="line">		File file4 = <span class="keyword">new</span> File(<span class="string">"F:\\d.txt"</span>);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//建立对应 的输入输出流对象</span></span><br><span class="line">		FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(file4);</span><br><span class="line">		FileInputStream fileInputStream1 = <span class="keyword">new</span> FileInputStream(file1);</span><br><span class="line">		FileInputStream fileInputStream2 = <span class="keyword">new</span> FileInputStream(file2);</span><br><span class="line">		FileInputStream fileInputStream3 = <span class="keyword">new</span> FileInputStream(file3);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//创建序列流对象</span></span><br><span class="line">		Vector&lt;FileInputStream&gt; vector = <span class="keyword">new</span> Vector&lt;FileInputStream&gt;();</span><br><span class="line">		vector.add(fileInputStream1);</span><br><span class="line">		vector.add(fileInputStream2);</span><br><span class="line">		vector.add(fileInputStream3);</span><br><span class="line">		Enumeration&lt;FileInputStream&gt; e = vector.elements();</span><br><span class="line"></span><br><span class="line">		SequenceInputStream sequenceInputStream = <span class="keyword">new</span> SequenceInputStream(e);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//读取文件数据</span></span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">0</span>; </span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span>((length = sequenceInputStream.read(buf))!=-<span class="number">1</span>)&#123;</span><br><span class="line">			fileOutputStream.write(buf,<span class="number">0</span>,length);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		sequenceInputStream.close();</span><br><span class="line">		fileOutputStream.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line"><span class="comment">//	使用SequenceInputStream合并文件。</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">merge2</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File inFile1 = <span class="keyword">new</span> File(<span class="string">"F:\\a.txt"</span>);</span><br><span class="line">		File inFile2 = <span class="keyword">new</span> File(<span class="string">"F:\\b.txt"</span>);</span><br><span class="line">		File outFile = <span class="keyword">new</span> File(<span class="string">"F:\\c.txt"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输入输出通道</span></span><br><span class="line">		FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(outFile);</span><br><span class="line">		</span><br><span class="line">		FileInputStream fileInputStream1 = <span class="keyword">new</span> FileInputStream(inFile1);</span><br><span class="line">		FileInputStream fileInputStream2 = <span class="keyword">new</span> FileInputStream(inFile2);</span><br><span class="line">		<span class="comment">//建立序列流对象</span></span><br><span class="line">		SequenceInputStream inputStream = <span class="keyword">new</span> SequenceInputStream(fileInputStream1,fileInputStream2);</span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">0</span> ; </span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span>((length = inputStream.read(buf))!=-<span class="number">1</span>)&#123;</span><br><span class="line">			fileOutputStream.write(buf,<span class="number">0</span>,length);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		inputStream.close();</span><br><span class="line">		fileOutputStream.close();</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//需求：把a.txt与b.txt 文件的内容合并。</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">merge1</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File inFile1 = <span class="keyword">new</span> File(<span class="string">"F:\\a.txt"</span>);</span><br><span class="line">		File inFile2 = <span class="keyword">new</span> File(<span class="string">"F:\\b.txt"</span>);</span><br><span class="line">		File outFile = <span class="keyword">new</span> File(<span class="string">"F:\\c.txt"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输入输出通道</span></span><br><span class="line">		FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(outFile);</span><br><span class="line">		FileInputStream fileInputStream1 = <span class="keyword">new</span> FileInputStream(inFile1);</span><br><span class="line">		FileInputStream fileInputStream2 = <span class="keyword">new</span> FileInputStream(inFile2);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//把输入流存储到集合中，然后再从集合中读取</span></span><br><span class="line">		ArrayList&lt;FileInputStream&gt; list = <span class="keyword">new</span> ArrayList&lt;FileInputStream&gt;();</span><br><span class="line">		list.add(fileInputStream1);</span><br><span class="line">		list.add(fileInputStream2);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//准备一个缓冲数组</span></span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">0</span> ; </span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i&lt; list.size() ; i++)&#123;</span><br><span class="line">			FileInputStream fileInputStream = list.get(i);</span><br><span class="line">			<span class="keyword">while</span>((length = fileInputStream.read(buf))!=-<span class="number">1</span>)&#123;</span><br><span class="line">				fileOutputStream.write(buf,<span class="number">0</span>,length);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">//关闭资源</span></span><br><span class="line">			fileInputStream.close();</span><br><span class="line">		&#125;</span><br><span class="line">		fileOutputStream.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="案例：合并切割mp3"><a href="#案例：合并切割mp3" class="headerlink" title="案例：合并切割mp3"></a>案例：合并切割mp3</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.other;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.SequenceInputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> 需求： 把一首mp3先切割成n份，然后再把这些文件合并起来。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"><span class="comment">//		cutFile();</span></span><br><span class="line">		mergeFlile();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//合并</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">mergeFlile</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File dir = <span class="keyword">new</span> File(<span class="string">"F:\\music"</span>);</span><br><span class="line">		<span class="comment">//通过目标文件夹找到所有的MP3文件，然后把所有的MP3文件添加到vector中。</span></span><br><span class="line">		Vector&lt;FileInputStream&gt; vector = <span class="keyword">new</span> Vector&lt;FileInputStream&gt;();</span><br><span class="line">		File[] files = dir.listFiles();</span><br><span class="line">		<span class="keyword">for</span>(File file : files)&#123;</span><br><span class="line">			<span class="keyword">if</span>(file.getName().endsWith(<span class="string">".mp3"</span>))&#123;</span><br><span class="line">				vector.add(<span class="keyword">new</span> FileInputStream(file));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//通过Vector获取迭代器</span></span><br><span class="line">		Enumeration&lt;FileInputStream&gt; e = vector.elements();</span><br><span class="line">		<span class="comment">//创建序列流</span></span><br><span class="line">		SequenceInputStream inputStream = <span class="keyword">new</span> SequenceInputStream(e);</span><br><span class="line">		<span class="comment">//建立文件的输出通道</span></span><br><span class="line">		FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\合并.mp3"</span>);</span><br><span class="line">		<span class="comment">//建立缓冲数组读取文件</span></span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">0</span> ; </span><br><span class="line">		<span class="keyword">while</span>((length =  inputStream.read(buf))!=-<span class="number">1</span>)&#123;</span><br><span class="line">			fileOutputStream.write(buf,<span class="number">0</span>,length);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		fileOutputStream.close();</span><br><span class="line">		inputStream.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//切割MP3</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">cutFile</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\美女\\1.mp3"</span>);</span><br><span class="line">		<span class="comment">//目标文件夹</span></span><br><span class="line">		File dir = <span class="keyword">new</span> File(<span class="string">"F:\\music"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输入通道</span></span><br><span class="line">		FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">		<span class="comment">//建立缓冲数组读取</span></span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>*<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ;  (length = fileInputStream.read(buf))!=-<span class="number">1</span> ; i++)&#123;</span><br><span class="line">			FileOutputStream fileOutputStream =	<span class="keyword">new</span> FileOutputStream(<span class="keyword">new</span> File(dir,<span class="string">"part"</span>+i+<span class="string">".mp3"</span>));</span><br><span class="line">			fileOutputStream.write(buf,<span class="number">0</span>,length);</span><br><span class="line">			fileOutputStream.close();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		fileInputStream.close();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="对象的输入输出流"><a href="#对象的输入输出流" class="headerlink" title="对象的输入输出流"></a>对象的输入输出流</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.other;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInput;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 对象的输入输出流 : 对象的输入输出流 主要的作用是用于写对象的信息与读取对象的信息。 对象信息一旦写到文件上那么对象的信息就可以做到持久化了</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> 对象的输出流： ObjectOutputStream .</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">对象的输入流: ObjectInputStream </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> ObjectOutputStream的使用步骤：</span></span><br><span class="line"><span class="comment"> 	1. </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> 对象输入输出流要注意的细节：</span></span><br><span class="line"><span class="comment"> 	1. 如果对象需要被写出到文件上，那么对象所属的类必须要实现Serializable接口。 Serializable接口没有任何的方法，是一个标识接口而已。</span></span><br><span class="line"><span class="comment"> 	2. 对象的反序列化创建对象的时候并不会调用到构造方法的、</span></span><br><span class="line"><span class="comment"> 	3. serialVersionUID 是用于记录class文件的版本信息的，serialVersionUID这个数字是通过一个类的类名、成员、包名、工程名算出的一个数字。</span></span><br><span class="line"><span class="comment"> 	4. 使用ObjectInputStream反序列化的时候，ObjeectInputStream会先读取文件中的serialVersionUID，然后与本地的class文件的serialVersionUID</span></span><br><span class="line"><span class="comment"> 	进行对比，如果这两个id不一致，那么反序列化就失败了。</span></span><br><span class="line"><span class="comment"> 	5. 如果序列化与反序列化的时候可能会修改类的成员，那么最好一开始就给这个类指定一个serialVersionUID，如果一类已经指定的serialVersionUID，然后</span></span><br><span class="line"><span class="comment"> 	在序列化与反序列化的时候，jvm都不会再自己算这个 class的serialVersionUID了。</span></span><br><span class="line"><span class="comment"> 	6. 如果一个对象某个数据不想被序列化到硬盘上，可以使用关键字transient修饰。</span></span><br><span class="line"><span class="comment"> 	7. 如果一个类维护了另外一个类的引用，那么另外一个类也需要实现Serializable接口。</span></span><br><span class="line"><span class="comment"> 	</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Address</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">	String country; </span><br><span class="line">	</span><br><span class="line">	String city;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Address</span><span class="params">(String country,String city)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.country = country;</span><br><span class="line">		<span class="keyword">this</span>.city = city;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">	String userName ;</span><br><span class="line">	</span><br><span class="line">	String password;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">transient</span> <span class="keyword">int</span> age;  <span class="comment">// transient 透明</span></span><br><span class="line">	</span><br><span class="line">	Address address ;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String userName , String passwrod)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.userName = userName;</span><br><span class="line">		<span class="keyword">this</span>.password = passwrod;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String userName , String passwrod,<span class="keyword">int</span> age,Address address)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.userName = userName;</span><br><span class="line">		<span class="keyword">this</span>.password = passwrod;</span><br><span class="line">		<span class="keyword">this</span>.age = age;</span><br><span class="line">		<span class="keyword">this</span>.address = address;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"用户名："</span>+<span class="keyword">this</span>.userName+ <span class="string">" 密码："</span>+ <span class="keyword">this</span>.password+<span class="string">" 年龄："</span>+<span class="keyword">this</span>.age+<span class="string">" 地址："</span>+<span class="keyword">this</span>.address.city;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo3</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, Exception </span>&#123;</span><br><span class="line">		writeObj();</span><br><span class="line"><span class="comment">//		readObj();</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//把文件中的对象信息读取出来--------&gt;对象的反序列化</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readObj</span><span class="params">()</span> <span class="keyword">throws</span>  IOException, ClassNotFoundException</span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\obj.txt"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输入通道</span></span><br><span class="line">		FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">		<span class="comment">//建立对象的输入流对象</span></span><br><span class="line">		ObjectInputStream objectInputStream = <span class="keyword">new</span> ObjectInputStream(fileInputStream);</span><br><span class="line">		<span class="comment">//读取对象信息</span></span><br><span class="line">		User user = (User) objectInputStream.readObject(); <span class="comment">//创建对象肯定要依赖对象所属 的class文件。</span></span><br><span class="line">		System.out.println(<span class="string">"对象的信息："</span>+ user);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="comment">//定义方法把对象的信息写到硬盘上------&gt;对象的序列化。</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeObj</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//把user对象的信息持久化存储。</span></span><br><span class="line">		Address address = <span class="keyword">new</span> Address(<span class="string">"中国"</span>,<span class="string">"广州"</span>);</span><br><span class="line">		User user = <span class="keyword">new</span> User(<span class="string">"admin"</span>,<span class="string">"123"</span>,<span class="number">15</span>,address);</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\obj.txt"</span>);</span><br><span class="line">		<span class="comment">//建立数据输出流对象</span></span><br><span class="line">		FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">		<span class="comment">//建立对象的输出流对象</span></span><br><span class="line">		ObjectOutputStream objectOutputStream = <span class="keyword">new</span> ObjectOutputStream(fileOutputStream);</span><br><span class="line">		<span class="comment">//把对象写出</span></span><br><span class="line">		objectOutputStream.writeObject(user);</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		objectOutputStream.close();</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Properties配置文件"><a href="#Properties配置文件" class="headerlink" title="Properties配置文件"></a>Properties配置文件</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.other;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInput;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 对象的输入输出流 : 对象的输入输出流 主要的作用是用于写对象的信息与读取对象的信息。 对象信息一旦写到文件上那么对象的信息就可以做到持久化了</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> 对象的输出流： ObjectOutputStream .</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">对象的输入流: ObjectInputStream </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> ObjectOutputStream的使用步骤：</span></span><br><span class="line"><span class="comment"> 	1. </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> 对象输入输出流要注意的细节：</span></span><br><span class="line"><span class="comment"> 	1. 如果对象需要被写出到文件上，那么对象所属的类必须要实现Serializable接口。 Serializable接口没有任何的方法，是一个标识接口而已。</span></span><br><span class="line"><span class="comment"> 	2. 对象的反序列化创建对象的时候并不会调用到构造方法的、</span></span><br><span class="line"><span class="comment"> 	3. serialVersionUID 是用于记录class文件的版本信息的，serialVersionUID这个数字是通过一个类的类名、成员、包名、工程名算出的一个数字。</span></span><br><span class="line"><span class="comment"> 	4. 使用ObjectInputStream反序列化的时候，ObjeectInputStream会先读取文件中的serialVersionUID，然后与本地的class文件的serialVersionUID</span></span><br><span class="line"><span class="comment"> 	进行对比，如果这两个id不一致，那么反序列化就失败了。</span></span><br><span class="line"><span class="comment"> 	5. 如果序列化与反序列化的时候可能会修改类的成员，那么最好一开始就给这个类指定一个serialVersionUID，如果一类已经指定的serialVersionUID，然后</span></span><br><span class="line"><span class="comment"> 	在序列化与反序列化的时候，jvm都不会再自己算这个 class的serialVersionUID了。</span></span><br><span class="line"><span class="comment"> 	6. 如果一个对象某个数据不想被序列化到硬盘上，可以使用关键字transient修饰。</span></span><br><span class="line"><span class="comment"> 	7. 如果一个类维护了另外一个类的引用，那么另外一个类也需要实现Serializable接口。</span></span><br><span class="line"><span class="comment"> 	</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Address</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">	String country; </span><br><span class="line">	</span><br><span class="line">	String city;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Address</span><span class="params">(String country,String city)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.country = country;</span><br><span class="line">		<span class="keyword">this</span>.city = city;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">	String userName ;</span><br><span class="line">	</span><br><span class="line">	String password;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">transient</span> <span class="keyword">int</span> age;  <span class="comment">// transient 透明</span></span><br><span class="line">	</span><br><span class="line">	Address address ;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String userName , String passwrod)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.userName = userName;</span><br><span class="line">		<span class="keyword">this</span>.password = passwrod;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String userName , String passwrod,<span class="keyword">int</span> age,Address address)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.userName = userName;</span><br><span class="line">		<span class="keyword">this</span>.password = passwrod;</span><br><span class="line">		<span class="keyword">this</span>.age = age;</span><br><span class="line">		<span class="keyword">this</span>.address = address;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"用户名："</span>+<span class="keyword">this</span>.userName+ <span class="string">" 密码："</span>+ <span class="keyword">this</span>.password+<span class="string">" 年龄："</span>+<span class="keyword">this</span>.age+<span class="string">" 地址："</span>+<span class="keyword">this</span>.address.city;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo3</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, Exception </span>&#123;</span><br><span class="line">		writeObj();</span><br><span class="line"><span class="comment">//		readObj();</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//把文件中的对象信息读取出来--------&gt;对象的反序列化</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readObj</span><span class="params">()</span> <span class="keyword">throws</span>  IOException, ClassNotFoundException</span>&#123;</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\obj.txt"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输入通道</span></span><br><span class="line">		FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">		<span class="comment">//建立对象的输入流对象</span></span><br><span class="line">		ObjectInputStream objectInputStream = <span class="keyword">new</span> ObjectInputStream(fileInputStream);</span><br><span class="line">		<span class="comment">//读取对象信息</span></span><br><span class="line">		User user = (User) objectInputStream.readObject(); <span class="comment">//创建对象肯定要依赖对象所属 的class文件。</span></span><br><span class="line">		System.out.println(<span class="string">"对象的信息："</span>+ user);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="comment">//定义方法把对象的信息写到硬盘上------&gt;对象的序列化。</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeObj</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//把user对象的信息持久化存储。</span></span><br><span class="line">		Address address = <span class="keyword">new</span> Address(<span class="string">"中国"</span>,<span class="string">"广州"</span>);</span><br><span class="line">		User user = <span class="keyword">new</span> User(<span class="string">"admin"</span>,<span class="string">"123"</span>,<span class="number">15</span>,address);</span><br><span class="line">		<span class="comment">//找到目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\obj.txt"</span>);</span><br><span class="line">		<span class="comment">//建立数据输出流对象</span></span><br><span class="line">		FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">		<span class="comment">//建立对象的输出流对象</span></span><br><span class="line">		ObjectOutputStream objectOutputStream = <span class="keyword">new</span> ObjectOutputStream(fileOutputStream);</span><br><span class="line">		<span class="comment">//把对象写出</span></span><br><span class="line">		objectOutputStream.writeObject(user);</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		objectOutputStream.close();</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.other;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> 需求： 使用properties实现本软件只能 运行三次，超过了三次之后就提示购买正版，退jvm.</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo5</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\count.properties"</span>);</span><br><span class="line">		<span class="keyword">if</span>(!file.exists())&#123;</span><br><span class="line">			<span class="comment">//如果配置文件不存在，则创建该配置文件</span></span><br><span class="line">			file.createNewFile();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//创建Properties对象。</span></span><br><span class="line">		Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">		<span class="comment">//把配置文件的信息加载到properties中</span></span><br><span class="line">		properties.load(<span class="keyword">new</span> FileInputStream(file));</span><br><span class="line">		FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> count = <span class="number">0</span>; <span class="comment">//定义该变量是用于保存软件的运行次数的。</span></span><br><span class="line">		<span class="comment">//读取配置文件的运行次数</span></span><br><span class="line">		String value = properties.getProperty(<span class="string">"count"</span>);</span><br><span class="line">		<span class="keyword">if</span>(value!=<span class="keyword">null</span>)&#123;</span><br><span class="line">			count = Integer.parseInt(value);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//判断使用的次数是否已经达到了三次，</span></span><br><span class="line">		<span class="keyword">if</span>(count==<span class="number">3</span>)&#123;</span><br><span class="line">			System.out.println(<span class="string">"你已经超出了试用次数，请购买正版软件！！"</span>);</span><br><span class="line">			System.exit(<span class="number">0</span>);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		count++;</span><br><span class="line">		System.out.println(<span class="string">"你已经使用了本软件第"</span>+count+<span class="string">"次"</span>);</span><br><span class="line">		properties.setProperty(<span class="string">"count"</span>,count+<span class="string">""</span>);</span><br><span class="line">		<span class="comment">//使用Properties生成一个配置文件</span></span><br><span class="line">		properties.store(fileOutputStream,<span class="string">"runtime"</span>);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="打印流PrintStream"><a href="#打印流PrintStream" class="headerlink" title="打印流PrintStream"></a>打印流PrintStream</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.other;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintStream;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">打印流（printStream）  打印流可以打印任意类型的数据，而且打印数据之前都会先把数据转换成字符串再进行打印。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">	String name;</span><br><span class="line">	</span><br><span class="line">	String color;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Animal</span><span class="params">(String name,String color)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">		<span class="keyword">this</span>.color = color;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"名字："</span>+<span class="keyword">this</span>.name+ <span class="string">" 颜色："</span>+ <span class="keyword">this</span>.color;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo6</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">/*FileOutputStream fileOutputStream = new FileOutputStream("F:\\a.txt");</span></span><br><span class="line"><span class="comment">		fileOutputStream.write("97".getBytes());</span></span><br><span class="line"><span class="comment">		fileOutputStream.close();*/</span></span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//打印流可以打印任何类型的数据，而且打印数据之前都会先把数据转换成字符串再进行打印。</span></span><br><span class="line">		File file = <span class="keyword">new</span>  File(<span class="string">"F:\\a.txt"</span>);</span><br><span class="line">		<span class="comment">//创建一个打印流</span></span><br><span class="line">		PrintStream printStream = <span class="keyword">new</span> PrintStream(file);</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		printStream.println(97);</span></span><br><span class="line"><span class="comment">		printStream.println(3.14);</span></span><br><span class="line"><span class="comment">		printStream.println('a');</span></span><br><span class="line"><span class="comment">		printStream.println(true);</span></span><br><span class="line"><span class="comment">		Animal a = new Animal("老鼠", "黑色");</span></span><br><span class="line"><span class="comment">		printStream.println(a);</span></span><br><span class="line"><span class="comment">		</span></span><br><span class="line"><span class="comment">		</span></span><br><span class="line"><span class="comment">		//默认标准的输出流就是向控制台输出的，</span></span><br><span class="line"><span class="comment">		System.setOut(printStream); //重新设置了标准的输出流对象</span></span><br><span class="line"><span class="comment">		System.out.println("哈哈，猜猜我在哪里！！");</span></span><br><span class="line"><span class="comment">		*/</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//收集异常的日志信息。</span></span><br><span class="line">		File logFile = <span class="keyword">new</span> File(<span class="string">"F:\\2015年1月8日.log"</span>);</span><br><span class="line">		PrintStream logPrintStream = <span class="keyword">new</span> PrintStream( <span class="keyword">new</span> FileOutputStream(logFile,<span class="keyword">true</span>) );</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			<span class="keyword">int</span> c = <span class="number">4</span>/<span class="number">0</span>;</span><br><span class="line">			System.out.println(<span class="string">"c="</span>+c);</span><br><span class="line">			<span class="keyword">int</span>[] arr = <span class="keyword">null</span>;</span><br><span class="line">			System.out.println(arr.length);</span><br><span class="line">			</span><br><span class="line">		&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">			e.printStackTrace(logPrintStream);</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="编码与解码"><a href="#编码与解码" class="headerlink" title="编码与解码"></a>编码与解码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.other;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">编码与解码 </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> 编码： 把看得懂的字符变成看不懂码值这个过程我们称作为编码。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">解码： 把码值查找对应的字符，我们把这个过程称作为解码。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">注意： 以后编码与解码一般我们都使用统一的码表。否则非常容易出乱码。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo7</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		String str = "中国";</span></span><br><span class="line"><span class="comment">		byte[] buf = str.getBytes("utf-8");// 平台默认的编码表是gbk编码表。  编码</span></span><br><span class="line"><span class="comment">		System.out.println("数组的元素："+Arrays.toString(buf)); //</span></span><br><span class="line"><span class="comment">		</span></span><br><span class="line"><span class="comment">		str = new String(buf,"utf-8");  //默认使用了gbk码表去解码。 </span></span><br><span class="line"><span class="comment">		System.out.println("解码后的字符串："+ str);		</span></span><br><span class="line"><span class="comment">		*/</span></span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*String str = "a中国"; // ,0, 97, 78, 45, 86, -3</span></span><br><span class="line"><span class="comment">		byte[] buf = str.getBytes("unicode");  //编码与解码的时候指定 的码表是unicode实际上就是用了utf-16.</span></span><br><span class="line"><span class="comment">		System.out.println("数组的内容："+ Arrays.toString(buf));</span></span><br><span class="line"><span class="comment">		*/</span></span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		String str = <span class="string">"大家好"</span>;</span><br><span class="line">		<span class="keyword">byte</span>[] buf = str.getBytes(); <span class="comment">//使用gbk进行编码</span></span><br><span class="line">		System.out.println(<span class="string">"字节数组："</span>+ Arrays.toString(buf));  <span class="comment">// -76, -13, -68, -46, -70, -61</span></span><br><span class="line">		</span><br><span class="line">		str = <span class="keyword">new</span> String(buf,<span class="string">"iso8859-1"</span>);</span><br><span class="line">		<span class="comment">// 出现乱码之后都可以被还原吗？ </span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">byte</span>[] buf2 = str.getBytes(<span class="string">"iso8859-1"</span>);</span><br><span class="line">		str = <span class="keyword">new</span> String(buf2,<span class="string">"gbk"</span>); </span><br><span class="line"></span><br><span class="line">		System.out.println(str);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="转换流"><a href="#转换流" class="headerlink" title="转换流"></a>转换流</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.other;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.InetSocketAddress;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 转换流:</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">输入字节流的转换流：InputStreamReader 是字节流通向字符流的桥</span></span><br><span class="line"><span class="comment"> 	InputStreamReader</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">输出字节流的转换流：</span></span><br><span class="line"><span class="comment">	OutputStreamWriter   可以把输出字节流转换成输出字符流 。  </span></span><br><span class="line"><span class="comment"> 	</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">转换流的作用：</span></span><br><span class="line"><span class="comment">	1. 如果目前所 获取到的是一个字节流需要转换字符流使用，这时候就可以使用转换流。  字节流----&gt; 字符流</span></span><br><span class="line"><span class="comment"> 	2. 使用转换流可以指定编码表进行读写文件。</span></span><br><span class="line"><span class="comment"> 	</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo8</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"><span class="comment">//		readTest();</span></span><br><span class="line"><span class="comment">//		writeTest();'</span></span><br><span class="line">		</span><br><span class="line"><span class="comment">//		writeTest2();</span></span><br><span class="line">		readTest2();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//使用输入字节流的转换流指定码表进行读取文件数据</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readTest2</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\a.txt"</span>);</span><br><span class="line">		FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">		<span class="comment">//创建字节流的转换流并且指定码表进行读取</span></span><br><span class="line">		InputStreamReader inputStreamReader = <span class="keyword">new</span> InputStreamReader(fileInputStream,<span class="string">"utf-8"</span>);</span><br><span class="line">		<span class="keyword">char</span>[] buf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>((length = inputStreamReader.read(buf))!=-<span class="number">1</span>)&#123;</span><br><span class="line">			System.out.println(<span class="keyword">new</span> String(buf,<span class="number">0</span>,length));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//使用输出字节流的转换流指定码表写出数据</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeTest2</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\a.txt"</span>);</span><br><span class="line">		<span class="comment">//建立数据的输出通道</span></span><br><span class="line">		FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">		<span class="comment">//把输出字节流转换成字符流并且指定编码表。</span></span><br><span class="line">		OutputStreamWriter outputStreamWriter = <span class="keyword">new</span> OutputStreamWriter(fileOutputStream, <span class="string">"utf-8"</span>);</span><br><span class="line">		outputStreamWriter.write(<span class="string">"新中国好啊"</span>);</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		outputStreamWriter.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeTest</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"F:\\a.txt"</span>);</span><br><span class="line">		FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">		<span class="comment">//把输出字节流转换成输出字符流。</span></span><br><span class="line">		OutputStreamWriter outputStreamWriter = <span class="keyword">new</span> OutputStreamWriter(fileOutputStream);</span><br><span class="line">		</span><br><span class="line">		outputStreamWriter.write(<span class="string">"大家好"</span>);</span><br><span class="line">		outputStreamWriter.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readTest</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		InputStream in = System.in; <span class="comment">//获取了标准的输入流。</span></span><br><span class="line"><span class="comment">//		System.out.println("读到 的字符："+ (char)in.read());  //read()一次只能读取一个字节。</span></span><br><span class="line">		<span class="comment">//需要把字节流转换成字符流。</span></span><br><span class="line">		InputStreamReader inputStreamReader = <span class="keyword">new</span> InputStreamReader(in);</span><br><span class="line">		<span class="comment">//使用字符流的缓冲类</span></span><br><span class="line">		BufferedReader bufferedReader = <span class="keyword">new</span> BufferedReader(inputStreamReader);</span><br><span class="line">		String line = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">while</span>((line = bufferedReader.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">			System.out.println(<span class="string">"内容："</span>+ line);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.other;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 递归：函数的自身调用函数的自身。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> 递归的使用前提： 必须要有条件的情况下调用。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">需求： 算出5的阶乘。 5! = 5*4 *3 * 2*1 </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo9</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> result = print(<span class="number">5</span>);</span><br><span class="line">		System.out.println(<span class="string">"结果："</span>+ result);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">print</span><span class="params">(<span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(num==<span class="number">1</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="keyword">return</span> num*print(num-<span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">		<span class="keyword">int</span> result  =  <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span>(num&gt;<span class="number">0</span>)&#123;</span><br><span class="line">			result = result*num;</span><br><span class="line">			num--;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="案例-1"><a href="#案例-1" class="headerlink" title="案例"></a>案例</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.other;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 需求1：列出一个文件夹的子孙文件与目录。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> 2，列出指定目录中所有的子孙文件与子孙目录名，要求名称前面要有相应数量的空格：</span></span><br><span class="line"><span class="comment">		第一级前面有0个，第二级前面有1个，第三级前面有2个...，以此类推。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">3，列出指定目录中所有的子孙文件与子孙目录名，要求要是树状结构，效果如下所示：</span></span><br><span class="line"><span class="comment">		|--src</span></span><br><span class="line"><span class="comment">		|   |--cn</span></span><br><span class="line"><span class="comment">		|   |   |--itcast</span></span><br><span class="line"><span class="comment">		|   |   |   |--a_helloworld</span></span><br><span class="line"><span class="comment">		|   |   |   |   |--HelloWorld.java</span></span><br><span class="line"><span class="comment">		|   |   |   |--b_for</span></span><br><span class="line"><span class="comment">		|   |   |   |   |--ForTest.java</span></span><br><span class="line"><span class="comment">		|   |   |   |--c_api</span></span><br><span class="line"><span class="comment">		|   |   |   |   |--Student.java</span></span><br><span class="line"><span class="comment">		|--bin</span></span><br><span class="line"><span class="comment">		|   |--cn</span></span><br><span class="line"><span class="comment">		|   |   |--itcast</span></span><br><span class="line"><span class="comment">		|   |   |   |--i_exception</span></span><br><span class="line"><span class="comment">		|   |   |   |   |--ExceptionTest.class</span></span><br><span class="line"><span class="comment">		|   |   |   |--h_linecount</span></span><br><span class="line"><span class="comment">		|   |   |   |   |--LineCounter3.class</span></span><br><span class="line"><span class="comment">		|   |   |   |   |--LineCounter2.class</span></span><br><span class="line"><span class="comment">		|   |   |   |   |--LineCounter.class</span></span><br><span class="line"><span class="comment">		|--lib</span></span><br><span class="line"><span class="comment">		|   |--commons-io.jar</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">需求4: 删除一个非空的文件夹。 </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">作业：  剪切一个非空目录。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo10</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	<span class="comment">/*	File dir = new File("F:\\1208project\\day22");</span></span><br><span class="line"><span class="comment">		listFiles3(dir,"|--");*/</span></span><br><span class="line">		</span><br><span class="line">		File dir = <span class="keyword">new</span> File(<span class="string">"F:\\aa"</span>);</span><br><span class="line">		deleteDir(dir);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//删除了一个非空的目录</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">deleteDir</span><span class="params">(File dir)</span></span>&#123; <span class="comment">// bb</span></span><br><span class="line">		File[] files = dir.listFiles(); <span class="comment">//列出了所有的子文件</span></span><br><span class="line">		<span class="keyword">for</span>(File file : files)&#123;</span><br><span class="line">			<span class="keyword">if</span>(file.isFile())&#123;</span><br><span class="line">				file.delete();</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span>(file.isDirectory())&#123;</span><br><span class="line">				deleteDir(file);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		dir.delete();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">listFiles3</span><span class="params">(File dir,String space)</span></span>&#123; <span class="comment">//space 存储的是空格</span></span><br><span class="line">		File[] files = dir.listFiles(); <span class="comment">//列出所有 的子文件</span></span><br><span class="line">		<span class="keyword">for</span>(File file : files)&#123;</span><br><span class="line">			<span class="keyword">if</span>(file.isFile())&#123;</span><br><span class="line">				System.out.println(space+file.getName());</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span>(file.isDirectory())&#123;</span><br><span class="line">				System.out.println(space+file.getName());</span><br><span class="line">				listFiles3(file,<span class="string">"|   "</span>+space);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//列出一个文件夹的子孙文件与目录。</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">listFiles2</span><span class="params">(File dir,String space)</span></span>&#123; <span class="comment">//space 存储的是空格</span></span><br><span class="line">		File[] files = dir.listFiles(); <span class="comment">//列出所有 的子文件</span></span><br><span class="line">		<span class="keyword">for</span>(File file : files)&#123;</span><br><span class="line">			<span class="keyword">if</span>(file.isFile())&#123;</span><br><span class="line">				System.out.println(space+file.getName());</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span>(file.isDirectory())&#123;</span><br><span class="line">				System.out.println(space+file.getName());</span><br><span class="line">				listFiles2(file,<span class="string">"  "</span>+space);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//列出一个文件夹的子孙文件与目录。</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">listFiles1</span><span class="params">(File dir)</span></span>&#123;</span><br><span class="line">		File[] files = dir.listFiles(); <span class="comment">//列出所有 的子文件</span></span><br><span class="line">		<span class="keyword">for</span>(File file : files)&#123;</span><br><span class="line">			<span class="keyword">if</span>(file.isFile())&#123;</span><br><span class="line">				System.out.println(<span class="string">"文件名："</span>+file.getName());</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span>(file.isDirectory())&#123;</span><br><span class="line">				System.out.println(<span class="string">"文件夹："</span>+file.getName());</span><br><span class="line">				listFiles1(file);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="网络编程"><a href="#网络编程" class="headerlink" title="网络编程"></a>网络编程</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.ip;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.net.UnknownHostException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 网络编程： 网络编程主要用于解决计算机与计算机（手机、平板..）之间的数据传输问题。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">网络编程: 不需要基于html页面就可以达到数据之间的传输。 比如： feiQ , QQ , 微信....</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">网页编程： 就是要基于html页面的基础上进行数据的交互的。 比如： 珍爱网、 oa(办公自动化)、 高考的报告系统...</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">计算机网络： 分布在不同地域 的计算机通过外部设备链接起来达到了消息互通、资源共享的效果就称作为一个计算机网络。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">网络通讯的三要素：</span></span><br><span class="line"><span class="comment">	1. IP</span></span><br><span class="line"><span class="comment">	2. 端口号。</span></span><br><span class="line"><span class="comment">	3. 协议.</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">192.168.10.1</span></span><br><span class="line"><span class="comment">IP地址：	IP地址的本质就是一个由32位的二进制数据组成的数据。 后来别人为了方便我们记忆IP地址，就把IP地址切成了4份，每份8bit.   2^8 = 0~255</span></span><br><span class="line"><span class="comment">      00000000-00000000-00000000-00000000</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">IP地址 = 网络号+ 主机号。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">IP地址的分类：</span></span><br><span class="line"><span class="comment">	A类地址 = 一个网络号 + 三个主机号     2^24   政府单位</span></span><br><span class="line"><span class="comment">	B类地址 =  两个网络号+ 两个主机号   2^16 事业单位（学校、银行..）</span></span><br><span class="line"><span class="comment">	C类地址= 三个网络号+ 一个主机号  2^8    私人使用..</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">InetAddress(IP类)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">常用的方法：</span></span><br><span class="line"><span class="comment">	getLocalHost();  获取本机的IP地址</span></span><br><span class="line"><span class="comment">	getByName("IP或者主机名") 根据一个IP地址的字符串形式或者是一个主机名生成一个IP地址对象。 (用于获取别人的IP地址对象)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	getHostAddress()  返回一个IP地址的字符串表示形式。</span></span><br><span class="line"><span class="comment">	getHostName()  返回计算机的主机名。</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">端口号是没有类描述的。</span></span><br><span class="line"><span class="comment">	端口号的范围： 0~65535</span></span><br><span class="line"><span class="comment">		从0到1023，系统紧密绑定于一些服务。 </span></span><br><span class="line"><span class="comment">		1024~65535  我们可以使用....</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">网络通讯的协议：</span></span><br><span class="line"><span class="comment">	udp通讯协议</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	tcp通讯协议。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo1</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> UnknownHostException </span>&#123;</span><br><span class="line">		<span class="comment">//getLocalHost 获取本机的IP地址对象</span></span><br><span class="line">		<span class="comment">/*InetAddress address = InetAddress.getLocalHost();</span></span><br><span class="line"><span class="comment">		System.out.println("IP地址："+address.getHostAddress());</span></span><br><span class="line"><span class="comment">		System.out.println("主机名："+address.getHostName());*/</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//获取别人机器的IP地址对象。</span></span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//可以根据一个IP地址的字符串形式或者是一个主机名生成一个IP地址对象。</span></span><br><span class="line">		InetAddress address = InetAddress.getByName(<span class="string">"Jolly-pc140116"</span>);</span><br><span class="line">		System.out.println(<span class="string">"IP地址："</span>+address.getHostAddress());</span><br><span class="line">		System.out.println(<span class="string">"主机名："</span>+address.getHostName());</span><br><span class="line"></span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		InetAddress[]  arr = InetAddress.getAllByName(<span class="string">"www.baidu.com"</span>);<span class="comment">//域名</span></span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="udp通讯"><a href="#udp通讯" class="headerlink" title="udp通讯"></a>udp通讯</h3><h6 id="发送端"><a href="#发送端" class="headerlink" title="发送端"></a>发送端</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.udp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.net.SocketException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">在java中网络通讯业称作为Socket(插座)通讯，要求通讯 的两台器都必须要安装Socket。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">不同的协议就有不同 的插座（Socket）</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">UDP通讯协议的特点：</span></span><br><span class="line"><span class="comment">	1. 将数据极封装为数据包，面向无连接。</span></span><br><span class="line"><span class="comment">	2. 每个数据包大小限制在64K中</span></span><br><span class="line"><span class="comment">	3.因为无连接，所以不可靠</span></span><br><span class="line"><span class="comment">	4. 因为不需要建立连接，所以速度快</span></span><br><span class="line"><span class="comment">	5.udp 通讯是不分服务端与客户端的，只分发送端与接收端。</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	比如： 物管的对讲机, 飞Q聊天、 游戏...</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">udp协议下的Socket:</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	DatagramSocket(udp插座服务)</span></span><br><span class="line"><span class="comment">	DatagramPacket(数据包类)</span></span><br><span class="line"><span class="comment">		DatagramPacket(buf, length, address, port)</span></span><br><span class="line"><span class="comment">		buf: 发送的数据内容</span></span><br><span class="line"><span class="comment">		length : 发送数据内容的大小。</span></span><br><span class="line"><span class="comment">		address : 发送的目的IP地址对象</span></span><br><span class="line"><span class="comment">		port : 端口号。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">发送端的使用步骤：</span></span><br><span class="line"><span class="comment">	1. 建立udp的服务。</span></span><br><span class="line"><span class="comment">	2. 准备数据，把数据封装到数据包中发送。 发送端的数据包要带上ip地址与端口号。</span></span><br><span class="line"><span class="comment">	3. 调用udp的服务，发送数据。</span></span><br><span class="line"><span class="comment">	4. 关闭资源。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//发送端</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo1Sender</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">//建立udp的服务</span></span><br><span class="line">		DatagramSocket datagramSocket = <span class="keyword">new</span> DatagramSocket();</span><br><span class="line">		<span class="comment">//准备数据，把数据封装到数据包中。</span></span><br><span class="line">		String data = <span class="string">"这个是我第一个udp的例子.."</span>;</span><br><span class="line">		<span class="comment">//创建了一个数据包</span></span><br><span class="line">		DatagramPacket packet = <span class="keyword">new</span> DatagramPacket(data.getBytes(), data.getBytes().length,InetAddress.getLocalHost() , <span class="number">9090</span>);</span><br><span class="line">		<span class="comment">//调用udp的服务发送数据包</span></span><br><span class="line">		datagramSocket.send(packet);</span><br><span class="line">		<span class="comment">//关闭资源 ---实际上就是释放占用的端口号</span></span><br><span class="line">		datagramSocket.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="接收端"><a href="#接收端" class="headerlink" title="接收端"></a>接收端</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.udp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"></span><br><span class="line"><span class="comment">//接收端</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 接收端的使用步骤</span></span><br><span class="line"><span class="comment"> 	1. 建立udp的服务</span></span><br><span class="line"><span class="comment"> 	2. 准备空 的数据 包接收数据。</span></span><br><span class="line"><span class="comment"> 	3. 调用udp的服务接收数据。</span></span><br><span class="line"><span class="comment"> 	4. 关闭资源</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo1Receive</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">//建立udp的服务 ，并且要监听一个端口。</span></span><br><span class="line">		DatagramSocket  socket = <span class="keyword">new</span> DatagramSocket(<span class="number">9090</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//准备空的数据包用于存放数据。</span></span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		DatagramPacket datagramPacket = <span class="keyword">new</span> DatagramPacket(buf, buf.length); <span class="comment">// 1024</span></span><br><span class="line">		<span class="comment">//调用udp的服务接收数据</span></span><br><span class="line">		socket.receive(datagramPacket); <span class="comment">//receive是一个阻塞型的方法，没有接收到数据包之前会一直等待。 数据实际上就是存储到了byte的自己数组中了。</span></span><br><span class="line">		System.out.println(<span class="string">"接收端接收到的数据："</span>+ <span class="keyword">new</span> String(buf,<span class="number">0</span>,datagramPacket.getLength())); <span class="comment">// getLength() 获取数据包存储了几个字节。</span></span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		socket.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="飞秋发送消息"><a href="#飞秋发送消息" class="headerlink" title="飞秋发送消息"></a>飞秋发送消息</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.udp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 每个网络程序都有自己所处理的特定格式数据,如果接收到的数据不符合指定的格式，那么就会被当成垃圾数据丢弃。(加密..)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> 飞Q接收的数据格式：</span></span><br><span class="line"><span class="comment"> version:time :sender : ip: flag:content ;</span></span><br><span class="line"><span class="comment"> 版本号          时间         发送人   :IP： 发送的标识符(32): 真正的内容;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> 在udp协议中，有一个IP地址称作为广播地址，广播地址就是主机号为255地址。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> 给广播IP地址发送消息的时候，在同一个网络段的机器都可以接收 到信息。</span></span><br><span class="line"><span class="comment"> 192.168.15.255</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//使用udp协议给飞Q发送消息。</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FeiQDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">// 建立udp的服务</span></span><br><span class="line">		DatagramSocket socket = <span class="keyword">new</span> DatagramSocket();</span><br><span class="line">		<span class="comment">// 准备数据，把数据封装到数据包中</span></span><br><span class="line">		String data = getData(<span class="string">"feiQ你好！"</span>);</span><br><span class="line">		DatagramPacket packet = <span class="keyword">new</span> DatagramPacket(data.getBytes(),</span><br><span class="line">				data.getBytes().length,</span><br><span class="line">				InetAddress.getByName(<span class="string">"192.168.15.255"</span>), <span class="number">2425</span>);</span><br><span class="line">		<span class="comment">// 发送数据</span></span><br><span class="line">		socket.send(packet);</span><br><span class="line">		<span class="comment">// 关闭资源</span></span><br><span class="line">		socket.close();</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 把数据拼接成指定格式的数据</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getData</span><span class="params">(String content)</span> </span>&#123;</span><br><span class="line">		StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">		sb.append(<span class="string">"1.0:"</span>);</span><br><span class="line">		sb.append(System.currentTimeMillis() + <span class="string">":"</span>);</span><br><span class="line">		sb.append(<span class="string">"习大大:"</span>);</span><br><span class="line">		sb.append(<span class="string">"192.168.10.1:"</span>);</span><br><span class="line">		sb.append(<span class="string">"32:"</span>);</span><br><span class="line">		sb.append(content);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> sb.toString();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="tcp通讯"><a href="#tcp通讯" class="headerlink" title="tcp通讯"></a>tcp通讯</h3><h6 id="tcp客户端"><a href="#tcp客户端" class="headerlink" title="tcp客户端"></a>tcp客户端</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.tcp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.net.UnknownHostException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> UDP通讯协议的特点：</span></span><br><span class="line"><span class="comment">	1. 将数据极封装为数据包，面向无连接。</span></span><br><span class="line"><span class="comment">	2. 每个数据包大小限制在64K中</span></span><br><span class="line"><span class="comment">	3.因为无连接，所以不可靠</span></span><br><span class="line"><span class="comment">	4. 因为不需要建立连接，所以速度快</span></span><br><span class="line"><span class="comment">	5.udp 通讯是不分服务端与客户端的，只分发送端与接收端。</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">TCP通讯协议特点：</span></span><br><span class="line"><span class="comment">	1. tcp是基于IO流进行数据 的传输 的，面向连接。</span></span><br><span class="line"><span class="comment"> 	2. tcp进行数据传输的时候是没有大小限制的。</span></span><br><span class="line"><span class="comment"> 	3. tcp是面向连接，通过三次握手的机制保证数据的完整性。 可靠协议。</span></span><br><span class="line"><span class="comment"> 	4. tcp是面向连接的，所以速度慢。</span></span><br><span class="line"><span class="comment"> 	5. tcp是区分客户端与服务端 的。</span></span><br><span class="line"><span class="comment"> 	</span></span><br><span class="line"><span class="comment"> 	比如： 打电话、 QQ\feiQ的文件传输、 迅雷下载.... </span></span><br><span class="line"><span class="comment"> 	</span></span><br><span class="line"><span class="comment">tcp协议下的Socket：</span></span><br><span class="line"><span class="comment">	Socket(客户端) , tcp的客户端一旦启动马上要与服务端进行连接。</span></span><br><span class="line"><span class="comment">	ServerSocket(服务端类)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">tcp的客户端使用步骤：</span></span><br><span class="line"><span class="comment">	1. 建立tcp的客户端服务。</span></span><br><span class="line"><span class="comment">	2. 获取到对应的流对象。</span></span><br><span class="line"><span class="comment">	3.写出或读取数据</span></span><br><span class="line"><span class="comment">	4. 关闭资源。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//tcp客户端</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo1Clinet</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//建立tcp的服务</span></span><br><span class="line">		Socket socket  = <span class="keyword">new</span> Socket(InetAddress.getLocalHost(),<span class="number">9090</span>);</span><br><span class="line">		<span class="comment">//获取到Socket的输出流对象</span></span><br><span class="line">		OutputStream outputStream = socket.getOutputStream();</span><br><span class="line">		<span class="comment">//利用输出流对象把数据写出即可。</span></span><br><span class="line">		outputStream.write(<span class="string">"服务端你好"</span>.getBytes());</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//获取到输入流对象，读取服务端回送的数据。</span></span><br><span class="line">		InputStream inputStream = socket.getInputStream();</span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> length = inputStream.read(buf);</span><br><span class="line">		System.out.println(<span class="string">"客户端接收到的数据："</span>+ <span class="keyword">new</span> String(buf,<span class="number">0</span>,length));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		socket.close();		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="tcp服务端"><a href="#tcp服务端" class="headerlink" title="tcp服务端"></a>tcp服务端</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.tcp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">//tcp的服务端</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	java.net.BindException:   端口被占用。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">ServerSocket的使用 步骤</span></span><br><span class="line"><span class="comment">	1. 建立tcp服务端 的服务。</span></span><br><span class="line"><span class="comment">	2. 接受客户端的连接产生一个Socket.</span></span><br><span class="line"><span class="comment">	3. 获取对应的流对象读取或者写出数据。</span></span><br><span class="line"><span class="comment">	4. 关闭资源。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">为什么ServerSocket不设计一个getInputStream与getOutputStream 呢？ </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//服务端</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo1Server</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		<span class="comment">//建立Tcp的服务端,并且监听一个端口。</span></span><br><span class="line">		ServerSocket serverSocket = <span class="keyword">new</span> ServerSocket(<span class="number">9090</span>);</span><br><span class="line">		<span class="comment">//接受客户端的连接</span></span><br><span class="line">		Socket socket  =  serverSocket.accept(); <span class="comment">//accept()  接受客户端的连接 该方法也是一个阻塞型的方法，没有客户端与其连接时，会一直等待下去。</span></span><br><span class="line">		<span class="comment">//获取输入流对象，读取客户端发送的内容。</span></span><br><span class="line">		InputStream inputStream = socket.getInputStream();</span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> length = <span class="number">0</span>;</span><br><span class="line">		length = inputStream.read(buf);</span><br><span class="line">		System.out.println(<span class="string">"服务端接收："</span>+ <span class="keyword">new</span> String(buf,<span class="number">0</span>,length));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//获取socket输出流对象，想客户端发送数据</span></span><br><span class="line">		OutputStream outputStream = socket.getOutputStream();</span><br><span class="line">		outputStream.write(<span class="string">"客户端你好啊！"</span>.getBytes());</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		serverSocket.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="客户端与服务端聊天"><a href="#客户端与服务端聊天" class="headerlink" title="客户端与服务端聊天"></a>客户端与服务端聊天</h3><h6 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.tcp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 需求： 客户端与服务端一问一答聊天。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> 1.如果使用BuffrerdReader的readline方法一定要加上\r\n才把数据写出。</span></span><br><span class="line"><span class="comment"> 2.使用字符流一定要调用flush方法数据才会写出。</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//聊天的客户端</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ChatClient</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">//建立tcp的客户端服务</span></span><br><span class="line">		Socket socket = <span class="keyword">new</span> Socket(InetAddress.getLocalHost(),<span class="number">9090</span>);</span><br><span class="line">		<span class="comment">//获取socket的输出流对象。</span></span><br><span class="line">		OutputStreamWriter socketOut =	<span class="keyword">new</span> OutputStreamWriter(socket.getOutputStream());</span><br><span class="line">		<span class="comment">//获取socket的输入流对象</span></span><br><span class="line">		BufferedReader socketReader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(socket.getInputStream()));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//获取键盘的输入流对象，读取数据</span></span><br><span class="line">		BufferedReader keyReader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">		</span><br><span class="line">		String line = <span class="keyword">null</span>;</span><br><span class="line">		<span class="comment">//不断的读取键盘录入的数据，然后把数据写出</span></span><br><span class="line">		<span class="keyword">while</span>((line = keyReader.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">			socketOut.write(line+<span class="string">"\r\n"</span>);</span><br><span class="line">			<span class="comment">//刷新</span></span><br><span class="line">			socketOut.flush();</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//读取服务端回送的数据</span></span><br><span class="line">			line = socketReader.readLine();</span><br><span class="line">			System.out.println(<span class="string">"服务端回送的数据是："</span>+line);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		socket.close();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.tcp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 聊天的服务端</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ChatServer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">//建立tcp的服务端</span></span><br><span class="line">		ServerSocket serverSocket = <span class="keyword">new</span> ServerSocket(<span class="number">9090</span>);</span><br><span class="line">		<span class="comment">//接受客户端的连接，产生一个SOcket</span></span><br><span class="line">		Socket socket = serverSocket.accept();</span><br><span class="line">		<span class="comment">//获取到Socket的输入流对象</span></span><br><span class="line">		BufferedReader socketReader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(socket.getInputStream()));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//获取到Socket输出流对象</span></span><br><span class="line">		OutputStreamWriter socketOut =  <span class="keyword">new</span> OutputStreamWriter(socket.getOutputStream());</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//获取键盘的输入流对象</span></span><br><span class="line">		BufferedReader keyReader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//读取客户端的数据</span></span><br><span class="line">		String line = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">while</span>((line = socketReader.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">			System.out.println(<span class="string">"服务端接收到的数据："</span>+ line);</span><br><span class="line">			</span><br><span class="line">			System.out.println(<span class="string">"请输入回送给客户端的数据："</span>);</span><br><span class="line">			line = keyReader.readLine();</span><br><span class="line">			socketOut.write(line+<span class="string">"\r\n"</span>);</span><br><span class="line">			socketOut.flush();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//关闭资源</span></span><br><span class="line">		serverSocket.close();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="模拟Tomcat"><a href="#模拟Tomcat" class="headerlink" title="模拟Tomcat"></a>模拟Tomcat</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.tcp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">//模拟Tomcat服务器</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TomcatDemo</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	Socket socket;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">TomcatDemo</span><span class="params">(Socket socket)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.socket = socket;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="comment">//获取socket的输出流对象</span></span><br><span class="line">			OutputStream outputStream = socket.getOutputStream();</span><br><span class="line">			<span class="comment">//把数据写到浏览器上</span></span><br><span class="line">			outputStream.write(<span class="string">"&lt;html&gt;&lt;head&gt;&lt;title&gt;aaa&lt;/title&gt;&lt;/head&gt;&lt;body&gt;你好啊浏览器&lt;/body&gt;&lt;/html&gt;"</span>.getBytes());</span><br><span class="line">			socket.close();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">//建立tcp的服务端</span></span><br><span class="line">		ServerSocket serverSocket = <span class="keyword">new</span> ServerSocket(<span class="number">9090</span>);</span><br><span class="line">		<span class="comment">//不断的接受客户端的连接</span></span><br><span class="line">		<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">			Socket socket = serverSocket.accept();</span><br><span class="line">			<span class="keyword">new</span> TomcatDemo(socket).start();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">clay</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://1ttf0z.coding-pages.com/blog/2020/03/09/java%E8%AF%AD%E6%B3%95-04/">http://1ttf0z.coding-pages.com/blog/2020/03/09/java%E8%AF%AD%E6%B3%95-04/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://1ttf0z.coding-pages.com/blog">clay's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/blog/tags/Java/">Java    </a><a class="post-meta__tags" href="/blog/tags/%E7%AC%94%E8%AE%B0/">笔记    </a></div><div class="post_share"></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/blog/2020/03/10/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"><img class="prev_cover lazyload" data-src="https://pic.downk.cc/item/5e6b334de83c3a1e3a803c25.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>数据结构与算法</span></div></a></div><div class="next-post pull_right"><a href="/blog/2020/03/09/java%E8%AF%AD%E6%B3%95-03/"><img class="next_cover lazyload" data-src="https://pic.downk.cc/item/5e6b334de83c3a1e3a803c25.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>java语法-03</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/blog/2020/03/10/数据结构与算法/" title="数据结构与算法"><img class="relatedPosts_cover lazyload"data-src="https://pic.downk.cc/item/5e6b334de83c3a1e3a803c25.jpg"><div class="relatedPosts_title">数据结构与算法</div></a></div><div class="relatedPosts_item"><a href="/blog/2020/03/09/java语法-03/" title="java语法-03"><img class="relatedPosts_cover lazyload"data-src="https://pic.downk.cc/item/5e6b334de83c3a1e3a803c25.jpg"><div class="relatedPosts_title">java语法-03</div></a></div><div class="relatedPosts_item"><a href="/blog/2020/03/09/java语法-02/" title="java语法-02"><img class="relatedPosts_cover lazyload"data-src="https://pic.downk.cc/item/5e67934098271cb2b8c73db3.jpg"><div class="relatedPosts_title">java语法-02</div></a></div><div class="relatedPosts_item"><a href="/blog/2020/03/09/java语法-01/" title="java语法-01"><img class="relatedPosts_cover lazyload"data-src="https://pic.downk.cc/item/5e6741ac98271cb2b89a450b.jpg"><div class="relatedPosts_title">java语法-01</div></a></div></div><div class="clear_both"></div></div></div></div><footer id="footer" style="background-image: url(https://pic.downk.cc/item/5e67934098271cb2b8c73db3.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2020 By clay</div><div class="framework-info"><span>Powered By </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">Hi , welcome to my <a href="http://g_clay.gitee.io/blog/" target="_blank" rel="noopener">blog</a>!</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/blog/js/utils.js"></script><script src="/blog/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="/blog/js/search/local-search.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.15/dist/snackbar.min.js"></script><script id="ribbon_piao" mobile="false" src="/blog/js/third-party/piao.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>